=== Configure NFS Root ===

To boot from NFS, add the following entry via serial console: (See  [[Bootloader]] section on how to access an bootloader):

 setenv bootargs_nfs root=/dev/nfs nfsroot=192.168.0.200:/export/openmoko
     ip=192.168.0.202:192.168.0.200:192.168.0.200:255.255.255.0:ezx:usb0:off
     rootdelay=5 console=ttySAC0,115200 console=tty0 loglevel=8
 
 setenv menu_5 Boot from NFS: setenv bootargs \${bootargs_nfs} \${mtdparts} \;
     nand read.e 0x32000000 kernel\; bootm 0x32000000
 
 saveenv


=== Use Static MAC Addresses ===

The random MAC addresses generated by the USB Ethernet gadget code caused me some grief on the host side.  To generate static addresses, I added the following variable to the menu_5 bootargs:

 setenv bootargs_usb g_ether.host_addr=00:1b:11:1b:08:18 g_ether.dev_addr=00:1b:11:1b:08:19


=== Configure Your Firewall ===

Another thing to keep in mind is your firewall.  I was getting messages like this:

 Looking up port of RPC 100003/2 on 192.168.0.200
 portmap: server 192.168.0.200 not responding, timed out
 Root-NFS: Unable to get nfsd port number from server, using default
 Looking up port of RPC 100005/1 on 192.168.0.200
 portmap: server 192.168.0.200 not responding, timed out
 Root-NFS: Unable to get mountd port number from server, using default
 mount: server 192.168.0.200 not responding, timed out
 Root-NFS: Server returned error -5 while mounting /srv/root

After I updated my firewall to pass NFS traffic over the interface to the Neo1973, everything worked smoothly.

[[Category:Developer resources]]
