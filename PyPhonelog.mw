{{Languages|PyPhonelog}}


This daemon uses the framework to track and log all the calls made to and from the moko.
Because it uses the framework, it's limited to [[FSO]] supporting distributions only. The daemon uses sqlite and currently (Read: Has to change) keeps the database in "/home/root/.phonelog.db". It has a dbus interface which enables pulling out incoming/outgoing and missed calls including the time the call was placed at.

This daemon uses the "org.smartphone.opimd" dbus bus name. It's by no means the expected opimd, it's just a daemon that uses this name because it makes sense!

This package also includes a working gtk+ gui for use with the daemon. The gui also keeps a file in "/home/root/.phonelog.dat".


If you want the gui to work with finger scrolling, download:
[http://downloads.tuxfamily.org/3v1deb/openmoko/python-mokoui2_0.1.0+svnr4342_armv4t.ipk python-mokoui2]

= Installation =
* Install the pyphonelog (gui) package.
If you use SHR that's it (actually, untill ophonekitd starts shipping with the logger that's not it...), if not (i.e, debian/fso):
* Install pyphonelogd (daemon) as well.

I strongly suggest adding the following configs to your gtkrc:
 style "treeview"
 {   
     GtkTreeView::expander-size = 40
 }
 widget_class "*TreeView*" style "treeview"

= Files =
* author: Tom Hacohen <available_at_profile>
* code is at: [http://shr.bearstech.com/git/?p=pyphonelog.git;a=tree;hb=HEAD git]
* gui: [http://stosb.com/openmoko/pyphonelog_0.13.0_armv4t.ipk package]
* daemon: [http://stosb.com/openmoko/pyphonelogd_0.9.1_armv4t.ipk package]

= Important Notices =
* '''SHR USERS MUST READ THIS: ''' The gui and the daemon are now in different packages, and the packages no longer comply with the older package name. To install this version please first 'opkg remove fso-phonelog' if you had a version older than 0.9.0 before.
The gui now supports the SHR phone logger so users that run SHR should not install the pyphonelogd.
Though, keep in mind that even SHR users should install the daemon untill ophonekitd will ship with phonelogging enabled.

* For some reason in the newest shr the daemon hasn't started automaticlly at boot time. After a bit of debugging I noticed that's because the frameworkd isn't started yet while the daemon is trying to connect it (although it's set to start a long time after). I added a sleep for 4 seconds in 0.4.2 (and on?) though this must be resolved otherwise.

* general list does not work with the legacy daemon. only with the shr. should fix the daemon soon.

=Change Log=
'''0.13.0'''
* Added the general list tab.
'''0.12.0'''
* Cleaned the UI a bit, the Show Numbers button is working.
'''0.11.1'''
* Grouping now works for non contacts as well.
'''0.11.0'''
* Added grouping support in the lists.
'''0.10.1'''
* Fixed the lists not sorted bug, and another minor bug.
'''0.10.0'''
* The gui now supports the ophonekitd phonelogger, which is SHR only, though, if the ophonekitd isn't installed (i.e debian/fso) you can install the pyphonelogd as well as pyphonelog to have a working phone logger.
'''0.9.1'''
* The daemon and the gui are now in different packages and the packages are now named pyphonelog and pyphonelogd respectively.
'''0.8.1'''
* Fixed a major bug causing missed calls not to be logged and outgoing calls to be logged as missed in certain situations.
'''0.8.0'''
* There's now a call button which works and a show number button which isn't yet useful, and doesn't work.
'''0.7.1'''
* Fixed the double outgoing calls bug in the daemon.
'''0.7.0'''
* The gui now supports the retrieval of the caller's name from the sim phonebook, thanks a lot to Thomas for the patch.
'''0.6.2'''
* Cleaned the code a bit. Cleaned everything that got ugly in version 0.6.0 ;]
'''0.6.1'''
* Thanks to a patch by Thomas, the new missed calls are now bold and the old ones are regular.
'''0.6.0'''
* As suggested by Thomas, the new missed calls and the old missed calls are now marked in different colors.
'''0.5.0'''
* As suggested by Thomas, the missed calls page is now opened first by default.
'''0.4.2'''
* The issue described in 0.4.1's changelog has been hacked to work. (added a sleep for 4 seconds)
'''0.4.1'''
* It seems 0.4.0 started too fast after the framework daemon causing the daemon to fail connecting to the framework. In this version, startup is supposed to be delayed a bit.
'''0.4.0'''
* Daemon now starts upon installation
* Added a clear list button
* DB does not get erased after upgared anymore.
* The GUI app starts faster than before.
'''0.3.1'''
* Fixed the broken premissions that were found in the previous package.

= TODO =
* add a limit to x records
* clear lists only updates the list after a restart of the app. make it an instant change

=Screeshots=
[[Image:pyphonelog1.png]]
[[Image:pyphonelog2.png]]
[[Image:pyphonelog3.png]]
[[Image:pyphonelog4.png]]
[[Category:FSO]]
[[Category:Debian]]
[[Category:SHR]]
[[Category:Telephony]]
