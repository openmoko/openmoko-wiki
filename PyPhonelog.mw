{{Languages|PyPhonelog}}


This daemon uses the framework to track and log all the calls made to and from the moko.
Because it uses the framework, it's limited to [[FSO]] supporting distributions only. The daemon uses sqlite and currently (Read: Has to change) keeps the database in "/home/root/.phonelog.db". It has a dbus interface which enables pulling out incoming/outgoing and missed calls including the time the call was placed at.

This daemon uses the "org.smartphone.opimd" dbus bus name. It's by no means the expected opimd, it's just a daemon that uses this name because it makes sense!

This package also includes a working gtk+ gui for use with the daemon. The gui also keeps a file in "/home/root/.phonelog.dat".


If you want the gui to work with finger scrolling, download:
[http://downloads.tuxfamily.org/3v1deb/openmoko/python-mokoui2_0.1.0+svnr4342_armv4t.ipk python-mokoui2]

= Installation =
* Install the pyphonelog (gui) package.
If you use SHR that's it (actually, untill ophonekitd starts shipping with the logger that's not it...), if not (i.e, debian/fso):
* Install pyphonelogd (daemon) as well.

I strongly suggest adding the following configs to your gtkrc:
 style "treeview"
 {   
     GtkTreeView::expander-size = 40
 }
 widget_class "*TreeView*" style "treeview"

= Files =
* author: Tom Hacohen <available_at_profile>
* code is at: [http://shr.bearstech.com/git/?p=pyphonelog.git;a=tree;hb=HEAD git]
* gui: [http://stosb.com/openmoko/pyphonelog_0.14.0_armv4t.ipk package]
* daemon: [http://stosb.com/openmoko/pyphonelogd_0.10.0_armv4t.ipk package]

= Important Notices =
* '''SHR USERS MUST READ THIS: ''' The gui and the daemon are now in different packages, and the packages no longer comply with the older package name. To install this version please first 'opkg remove fso-phonelog' if you had a version older than 0.9.0 before.
The gui now supports the SHR phone logger so users that run SHR should not install the pyphonelogd.
Though, keep in mind that even SHR users should install the daemon untill ophonekitd will ship with phonelogging enabled.

* For some reason in the newest shr the daemon hasn't started automaticlly at boot time. After a bit of debugging I noticed that's because the frameworkd isn't started yet while the daemon is trying to connect it (although it's set to start a long time after). I added a sleep for 4 seconds in 0.4.2 (and on?) though this must be resolved otherwise.

=Change Log=
'''0.14.0'''
* Added a configuration file, it now only supports one option 'phonekitd = True/False' (True by default, falls back to the legacy if phonekitd isn't found, change to False to force legacy use) this option must reside in the configuration file, though many will be added in the future. The configuration now resides in ~/.phonelog/phonelog.conf also moved the time file.
'''0.13.2'''
* Fixed the bug concerning the daemon with empty lists.
'''0.13.1'''
* Fixed some major bugs rendering 0.13 useless with the legacy daemon.
'''0.10.0 - DAEMON'''
* The done now conforms with gui completely, every gui feature is supported.
'''0.13.0'''
* Added the general list tab.
'''0.12.0'''
* Cleaned the UI a bit, the Show Numbers button is working.


'''NOTICE:''' all of the other changes were removed to improve page readability, if you want to view them, please go to this page's history.

= TODO =
* add a limit to x records
* clear lists only updates the list after a restart of the app. make it an instant change

=Screeshots=
[[Image:pyphonelog1.png]]
[[Image:pyphonelog2.png]]
[[Image:pyphonelog3.png]]
[[Image:pyphonelog4.png]]
[[Category:FSO]]
[[Category:Debian]]
[[Category:SHR]]
[[Category:Telephony]]
