{{Om 2008.8}}

==Introduction==
'''Installer''' is a tool for ''installing'', ''updating'' and ''uninstalling'' programs on your Neo.  

{| class="wikitable" cellspacing="0" cellpadding="0" style="padding: 0%; margin:0em 0em 1em 0em; border:1px solid #c0c0c0; background:#eeeeee; floating="center";width:100%; "
! style="background:#fcfcfc;border-left:1px solid #9999cc;border-right:1px ; border-top:2px solid 75d806; border:0px solid #222222; width:25% " |  
[[Image:Install.png|200px|thumb|catogory]]
! style="background:#fcfcfc;border-left:1px solid #9999cc;border-right:1px ; border-top:2px solid 75d806; border:0px solid #222222; width:25% " |
[[Image:Install1.png|200px|thumb|choose program]]
! style="background:#fcfcfc;border-left:1px solid #9999cc;border-right:1px ; border-top:2px solid 75d806; border:0px solid #222222; width:25% " |
[[Image:Installer4.png|200px|thumb|install application]]
! style="background:#fcfcfc;border-left:1px solid #9999cc;border-right:1px ; border-top:2px solid 75d806; border:0px solid #222222; width:25% " |
[[Image:Om2008 installer2.png|200px|thumb|install application]]
|}
==Download & Install ==
'''Installer''' uses a WiFi or [http://svn.openmoko.org/developers/tick/Test_env_script_GTA02A5/setneo USB] network connection to connect to repositories.

===Instructions===

'''[1]'''   Connect to a WiFi network in the '''Settings''' application, or manually connect to a [http://svn.openmoko.org/developers/tick/Test_env_script_GTA02A5/setneo USB] network connection before proceeding to '''Installer'''.

'''[2]'''   In '''Installer''', press the '''INSTALL''' button from the bottom bar to view a list of Categories.  This is also the default page of the Installer application.

'''[3]'''   Select a Category from the category list, then select a package to install.

'''[4]'''   In the package information page, press the image box and confirm to begin.

'''[5]'''   Once the progress bar shows '''Done''', you will return to the Installer default page.  Installation is then complete.

* To ''update'' or ''uninstall'' packages, simply replace step '''[2]''' with the desired function '''UPDATE''' or '''UNINSTALL''' and proceed to through step '''[5]'''.

==Sharing Applications==
Sharing applications amongst users and developers is easy using the [[CommunityRepository | Multiverse]].  Anyone can upload applications or even their own repository to share with fellow Neo owners.

===How to add a package to Openmoko Repository===

You can release your package with ipk file. 

* [[Create package on projects.openmoko.org and upload]]
* '''Create ipk files'''
** Using OE
** [[Toolchain|Meta-toolchain]]

==== Package Tags ====
Packages in '''Installer''' are displayed according to '''Package Tags'''.
To display a package through [[Om2008.8_Installer |Installer]], add the appropriate tag message. 
{|
! Category !! Tag 
|- 
| Communication || group::communication 
|-
| Development   || group::programming
|-
| Games         || group::games
|-
| Maps          || group::maps
|-
| Miscellaneous || group::unknown
|-
| Network       || group::network
|-
|Repos          || group::repos
|}

* For OpenEmbedded users, add a Tag by adding one line in your bb file
For [http://code.google.com/p/comic-reader/source/browse/trunk/data/comic-reader_svn.bb example]:
 PKG_TAGS_${PN} = "group::games"

==== Add a Repository ==== 
===== Add repositories by installing repository packages =====
* The community-repository is installed by default in [[Om2008.8 | Om 2008.8]].

===== Add repository manually =====
* Create a file, here we call it community-repos.conf
 > echo "arch community-repos 50" > community-repos.conf
 > echo "src community-repos http://downloads.openmoko.org/repository/Multiverse/" >> community-repos.conf
* Connect to your Neo with USB
 > sudo ifconfig usb0 192.168.0.200
 > scp community-repos.conf root@192.168.0.202:/etc/opkg/
* Let your Neo connect to the Internet
** For USB users:
 > ssh root@192.168.0.202
 > echo 1 | sudo tee  /proc/sys/net/ipv4/ip_forward
 > sudo iptables -t nat -A POSTROUTING -s 192.168.0.0/24 -j MASQUERADE
 > scp /etc/resolv.conf root@192.168.0.202:/etc/
** For geek users:
 > ssh root@192.168.0.202
 > iwlist eth0 scan
 Find a usable AP lets say OpenMind (Support it's an open AP)
 > iwconfig eth0 essid OpenMind
 > udhcpc eth0
 Then pray, if successfull, remove default gw *twice*.
 > route -n  # to see your gateway of eth0 say 192.168.1.1
 > route del default
 > route del default
 > route add default gw 192.168.1.1 eth0
 Then you can ping wiki.openmoko.org for testing :)
** For GUI WiFi user:
 Click Settings
 Click WiFi
 Select an AP
 Input password if needed
 
* Refresh the opkg metadata database
 after connecting to Neo
 > opkg update

== Technical Features ==
* '''Installer''' is a specialized GUI front-end of [http://packagekit.org/ Packagekit] over DBus interface.

* Please run '''Installer''' under stable network conditions and enough power supply.  Once '''Installer''' is launched, it will actually try to detect repositories you installed. This will take some time if your network condition is not stable.
** If you do not have access to WiFi, a [http://svn.openmoko.org/developers/tick/Test_env_script_GTA02A5/setneo USB] connection is recommended.
* The default Packagekit backend on Neo is [[opkg]], but is not restricted to opkg. 

* '''Installer''' refreshes the package meta-data every 2 days.

* While running '''Installer''', it will also launch packagekitd automatically, in which it will lock the libopkg for synchronization issues.  If you want to use opkg, you may terminate '''Installer''' and killall packagekitd.

* You can also talk with Packagekit through DBus.

For more information, refer to the reference section below.

== Reference ==
[1] Assassin project - http://code.google.com/p/om-assassin/

[2] Packagekit project - http://packagekit.org/

[3] Opkg package management - http://wiki.openmoko.org/wiki/Opkg

[[Category:Applications]]
[[Category:Openmoko2008.8]]
