== GPS的內容 ==

GPS (Global Positioning System)是一個衛星定位系統，使用31個衛星。

GPS 類似 "人造衛星" ，以公尺為計算單位。某些形態的GPS，可以較公分為佳的單位進行度量。

利用先進的科技，從IC及其它的元件中接收訊號。

它大量的降低了成本。

因為它大量降低成本的特性，它可以輕鬆的被整合到手機、筆記型電腦及像是耕作用具、瀏覽系統及建築物...等傳統工具中。tion systems and construction equipment.

(你可以在這個位址[http://www.colorado.edu/geography/gcraft/notes/gps/gps_f.html Global Positioning System Overview]取得其它的相關資訊。)

== [[Hardware:AGPS|AGPS]] ==
這個分類中可以找到[[Hardware:AGPS|所有GPS的資訊]].

== PMB 2520 Hammerhead ==
PMB 2520 Hammerhead是GPS的one-chip解決方案，它由全球定位公司的Infineon Technologies所製造。它允許支援A-GPS標準的資料存取。
(相關的資料都可以在 PMB 2520 datasheet中找到)
[http://www.infineon.com/upload/Document/cmc_upload/documents/011/4061/pmb2520-pb-200505.pdf short datasheet]

=== Hammerhead模組===

Hammerhead包含了以下的模組：
*RF front-end with on-chip, high gain and low noise, LNA, I/Q mixers, on-chip polyphase complex IF filter, digitally controlled AGC, and 3-bits ADC for the I and Q paths.
*Sigma-Delta RF PLL with on-chip PCO and on-chip loop filter.
*Embedded PLL and NCO for baseband clock generation.
*Multiple channels digital mixers and parallel correlator engines to enable real time correlation of the PRN code for up to 14 satellites.
*Post processor including peak detection logic
*SRAM for storing correlation results

=== 主要界面 ===

Hammerhead整合了三個系列的介面：
*UART
*I2C
*SPI

在Hammerhead的UART是一個full-duplex UART 界面。它被固定在8N1(8 data bits, no parity, 1 stop bit)模式。在GTA01中，主要的處理器透過UART連接到這裡。在Neo1973的所有產品當中，它連接到敘列埠。, this is connected to a serial port.

=== Host software Architecture ===

The Hammerhead driver software will be delivered as a binary, which can be interfaced to [http://gpsd.davisnetworks.com/bin/view/Main/GpsdHome gpsd] as it outputs NMEA information, as many serial GPSs do.

The gps driver is [[Gllin|now available]]. (There were some problems in the past getting a license to distribute the binary. [http://lists.openmoko.org/pipermail/community/2007-July/008466.html])

The gpsd libraries provide the following infomation to the high level software:
*Position data
*Library status
*Time-out and Packet Available

The high level software sends the following messages to the plugin:
*Assistance data
*Positioning Commands
*Configuration Commands

Gpsd communicates with the system at the following part:
*Communications Drivers
*System Timer
*NV storage
*Log buffer

== GPS on GTA01 ==

At the GTA01, the host processor is a S3C2410.

=== Hammerhead on the GTA01 ===

On the GTA01, the Hammerhead are configured that connected with the host processor through the UART. The UART of data output/input is connected to the UART 1 of the SC2410. The UART of the hardware flow control is connected to the UART 2 of the SC2410.

== Q & A ==


====Q: Can gpsd support Differential GPS.====
*While the neo does not have any means of receiving [http://en.wikipedia.org/wiki/Differential_GPS DGPS] or WAAS/SCCM directly, it can be streamed from an internet server. 
*It may be possible to generate a global ionospheric model from stationary (charging?) neos that have GPS signal and cheap internet connections. This would enable very precise positions to be generated
*This could generate positions accurate to well under a metre, compared to (probably) 2-3m without.
*The gpsd plugin is the place that these corrections would need to be done, as they need to be performed on a per-satellite basis, before generating the position.
*This is separate from AGPS - AGPS gives information on current satellite position, or computes your position for you. DGPS is a local minute by minute 'ionospheric weather' for your region.

See also [[Server:A-GPS]].

====Q: Can someone upload somewhere an strace of the interaction between gpsd, and the hammerhead chip?====
*Ideally this would be requesting a GPS position every second, starting from 'cold', with no AGPS data, for at least half an hour, in an area where the reciever can see the sky.
*To aid in reverse engineering efforts.
*A reverse-engineering page has been created: [[Hammerhead/Protocol]]

====Q: Can I get NMEA data from the GPS?====

A: Not directly. However, the gpsd program 'gpspipe', with the -r switch will output NMEA data with the current position information. The right way to do it is to use libgpsd in your program if possible.

{{Languages|Gpsd}}
[[Category:GPS]]
