{{Languages|SHR}}
{{Distributions|SHR}}
{{SHR}}

== Why SHR exists ==
The [[Stable Hybrid Release]] (SHR) is intended to be a community driven distribution composed of the [[OpenmokoFramework|FSO]] and some basic applications, that can be configured to use several different graphical toolkits, for example GTK or EFL. SHR is based on the FSO build. At first, SHR was introduced in order to use the [[Openmoko2007.2]] GTK software in combination with the new [[OpenmokoFramework|FSO]], but things have changed.

====Why not just use plain FSO?====
[[FSO]] is the initiative by Mickey Lauer and crew to create a good [[D-Bus]] infrastructure which runs on the neos, among other devices.

FSO is by far the most stable & usable release, if all you want is a phone.  (I mean *all*. It just has a dialer, which is a demo application.)

FSO is never intended on its own to be a full image, it's just the infrastructure and a demo app.

Other people are supposed to put a front end on FSO. So that's what we're doing.

==Feature overview==

The feature overview below is the status of the currect SHR unstable distribution.

{| cellspacing="0" class="sortable wikitable" border="1" style="font-size: 85%; text-align: left; width: auto;"
|-
! Category
! Name
! Case
! Comments
|-
| GSM
| Dailer
| style="background:#88FF88;"| Receiving Call
|
|-
| GSM
| Dailer
| style="background:#88FF88;"| Making Call
|
|-
| GSM
| SMS
| style="background:#88FF88;"| Sending SMS
|
|-
| GSM
| GPRS
| style="background:#FF8888;"| Configuring GPRS
|
|-
| Audio
| Headset
| style="background:#FF8888;"| Handsfree calling
|
|-
|}


== Install ==

Installing SHR is very easy. I will explain how to install the testing version of SHR. It is stable enough for a daily use. Stable version will be available soon ([http://blog.shr-project.org/ Stable announcement]), [http://build.shr-project.org/shr-unstable/images/om-gta02/?C=M;O=D unstable] (for the adventurous testers) is also available.

I suppose that you know how to use [http://wiki.openmoko.org/wiki/NeoTool NeoTool]

You need to download two files from [http://build.shr-project.org/shr-unstable/images/om-gta02/?C=M;O=D unstable GTA02]

- the kernel (uImage-om-gta02-latest.bin)

- the root files system (<tt>shr-image-om-gta02.tar.gz</tt> or 	<tt>shr-image-om-gta02.jffs2</tt>)

You can view the sources [http://git.shr-project.org/git/ here].

== Connecting your FreeRunner to your computer ==
For the next configuration steps, you will need to type some commands. It is much easier to type on a real keyboard than on a touch screen. 
So you need to connect your FR to you computer, and make a bridge to internet.
Use [http://wiki.openmoko.org/wiki/USB_Networking this page]

== Setting local time ==
As any linux system, the UTC time is used by the system. First of all, adjust this time:
 date -u -s 010220052009
 Fri Jan  2 20:05:00 UTC 2009

Then, you need to "localise" your system. 
Search for the appropriate country with:
 opkg list | grep tzdata

then install the one corresponding to your area. 
opkg install tzdata-europe

Then select your city (search the city availabled in /usr/share/zoneinfo/your-country)

You can fully localise your system by installing the glibc-binary-localedata correponding to your langage. Search the ones available with:
 opkg list | grep glibc-binary-localedata

install with

 opkg install glibc-binary-localedata-fr-fr

(example for France)

 ln -sf /usr/share/zoneinfo/Europe/Paris /etc/localtime

== Changing root password ==
SHR is shipped without root password (just press enter)

This is very dangerous if you connect using wifi, or USB. You need to activate the root password:

 passwd

and type your selected password (2 times)

== Customize the RingTone ==
You need to have a file containing the RingTone you want for your FR. You can find some at [http://wiki.openmoko.org/wiki/Ringtones#svn.openmoko.org_ringtones RingTone]

Then transfer it to your FR (i.e on the SD card):
 scp file root@192.168.0.202:/media/card/

Now you need to indicate that the FR must use this file for incoming calls. Modify /etc/freesmartphone/opreferences/conf/phone/default.yaml

== Sound Control ==

Up to now, there is no graphical interface to control the sound
=== Mic and HP ===
The first idea is to use alsamixer; bad idea! There are 94 controls, and your modifications will be lost at the next reboot.Finding documentation is not easy. Here is my understanding: 
Scenari are used for each case. They are located in /usr/share/openmoko/scenarios/
- capturehandset.state  
- gsmheadset.state 
- headset.state         
- voip-handset.state
- gsmhandset.state
- gsmspeakerout.state
- stereoout.state

Each file is a set of value for the 94 parameters. I have identified some:

- Control 48: internal mic of the tel (set to 2 or 3)

- Control 4 : internal speaker (set from 110 to 120)

- Control 49: headset mic

- Control 3 : headset speaker



Generic info to the Neo soundsystem:

* [[Neo 1973 audio subsystem]]
* [[Neo alsamixer#Settings_Descriptions|Neo alsamixer - Settings Descriptions]]
* [[Neo Freerunner audio subsystem]]

=== Ringing ===


You can define a short ringtone, repeated many times, or a long one, repeated 1 time

File: /etc/freesmartphone/opreferences/conf/phone/default.yaml

Parameter: ring-volume # Ring Volume control 0 (mini) to ? maxi)
Parameter: ring-length # min time for ringtone. Must be greater than the duration of you ringtone

File: /etc/freesmartphone/opreferences/schema/phone.yaml
Parameter: ring-loop # define the number of loop of ringtone to play

=== Message alert ===
File: /etc/freesmartphone/opreferences/conf/phone/default.yaml
Parameter: message-volume # Ring Volume control 0 (mini) to ? maxi)
Parameter: message-length # min time for message alert. Must be greater than the duration of you message alert

File: /etc/freesmartphone/opreferences/schema/phone.yaml
Parameter: message-loop # define the number of loop of incoming message music to play




== GPS ==
GPS is not started automatically at boot. You need to switch it ON/OFF manually

you need to modify the file /etc/init.d/fso-gpsd. Replace the line

 start-stop-daemon --start /usr/sbin/fso-gpsd -S localhost:gpsd -P /var/run/${NAME}.pid

by 

 start-stop-daemon --start --pidfile /var/run/${NAME}.pid --exec /usr/sbin/fso-gpsd -- -S localhost:gpsd -P /var/run/${NAME}.pid


and then you can start fso-gpsd by

 /etc/init.d/fso-gpsd start


=== using a GUI ===
install [http://wiki.openmoko.org/wiki/ShortOm ShortOm] 
and configure it to start/stop fso-gps as above

== Known Issues ==
=== Phone ===

GSM network is lost after one day of uptime: restart your FR once a day!

=== Address Book ===

SHR is not implementing a PIM (Personal Information Manager) yet. Work is in progress, but to included in SHR testing this has some consequences on daily use:

* Only contacts on the SIM card are available.

* It is not possible to import a Vcard file.
** It seems to be possible with [gopher://gopher.fnordpol.de/9/data/DbusAccessScripts_0.0.0.tar.gz this] script written by [[User:Zem#DBus_Access_Scripts|Zem]].

* Incoming call only display phone number (not the name of the calling person).
** It is implemented in unstable branch.

* It is not possible to send message (SMS) using the name of the receiver. You need to remember his phone number.
** It is implemented in unstable branch.

== More Information ==

Visit:
* [http://blog.shr-project.org Blog]
* [http://trac.shr-project.org Trac (Bugtracker)]
* [http://git.shr-project.org Git (Sourcecode-repository)]
* [http://build.shr-project.org Buildhost (Downloads)]
* [http://shr-project.org/trac/wiki/Tweaks Tweaks (On the Wiki)]

[[Category:SHR]]
