== Summary of the problem ==

Om 2008.8 uses Qtopia for its phone stack. Qtopia has a build-in keyboard primarily designed to compose SMS in English. This keyboard is very impractical to use with a terminal or enter an URL.

[http://n2.nabble.com/preserving-illume-keyboard-on-update-tp778734p780454.html More details...], list of all [https://docs.openmoko.org/trac/query?status=accepted&status=assigned&status=in_testing&status=new&status=reopened&summary=~keyboard&order=priority keyboard bugs in the defect tracking system].

== List of available keyboards ==

=== Qtopia keyboard ===

The [[Om2008.8_Keyboard|Qtopia keyboard]] build-in Om 2008.8. See also the [http://doc.trolltech.com/qtopia4.3/inputmethods-description.html documentation at Trolltech]

{|
| [[Image:asu_keyboard_lower.png|none|thumb|250px|ASU Keyboard]] || [[Image:asu_keyboard_word.png|none|thumb|250px|ASU Keyboard with hello]] || [[Image:asu_keyboard_numeric.png|none|thumb|250px|ASU Keyboard with numeric keys]]
|}

=== Matchbox keyboard ===

The [[Switching_Keyboards_on_OM_2007.2#What_does_the_keyboard_look_like.3F|matchbox keyboard]]. [[Image:Complete_QWERTY_Keyboard_On_The_Freerunner_screenshot.png|none|thumb|260px|Screenshot of the keyboard applet on 2007.2]]

=== Illume keyboard ===

The illume virtual keyboard a.k.a. Raster's keyboard.

[[Image:Illume-Keyboard-Screenshot.png]]

Probably [http://monochromementality.com/data/phoo/2008_08_05/medium/Screenshot-9.png looking like this] or [http://52grad.de/.stuff/freerunner/screenshots/illume_keyboard.png like that].

See also [[Illume#Virtual_Keyboard]] (which would need to be completed ;)

=== Vkbd system ===

The vkbd system.

== List of keyboard-related Howtos ==

=== How to use the Qtopia keyboard shipped with Om 2008.8 ? ===

Summary:
* Slide finger left = backspace.
* Slide finger right = space.
* Slide finger up/down = changes between lowercase/uppercase/numbers/special characters.
* The 'Enter' key is bottom right on the special characters page
* Hovering over a letter for more than 2 seconds activates zoom mode, allowing you to type specific letters without prediction. 
Detailed version: see [[Om_2008.8_Keyboard| How to use the Qtopia keyboard]].

=== How to have a toggle button to make the keyboard appear/disappear ? ===

Short answer: In 2008.8, ''opkg install illume-config''. In testing, edit '/etc/enlightenment/default_profile' to use ''illume'' theme instead of 'asu'.
Long answer: [[Keyboard Toggle|here]].

=== How to install the matchbox keyboard ? ===

Short answer: ''opkg install matchbox-keyboard-applet matchbox-keyboard-inputmethod''
Long answer: [[Switching_Keyboards|here]].

=== How to install the illume (Raster's) keyboard ? ===

Short answer: opkg install illume-config-illume

Detailed answer:
 1. opkg install illume-config (Get the qwerty button if not there yet)
 2. add "export QTOPIA_NO_VIRTUAL_KEYBOARD=1" in /etc/X11/Xsession.d/89qtopia (Turn off built-in qtopia keyboard)
 3. opkg install illume-config-illume
 5. rm -rf ~/.e/e/config/illume (Purge E's cache)
 6. /etc/init.d/xserver-nodm restart (Restart X)

Then switch keyboard from "None" to "Default" in Illume's preferences.

=== How to turn off the Qtopia keyboard ? ===

Short answer: Add the line ''export QTOPIA_NO_VIRTUAL_KEYBOARD=1'' into the file ''/etc/X11/Xsession.d/89qtopia''.

Warning: Even when you install another keyboard, if you do not turn off the Qtopia keyboard it will come back on the top <strike>to bite you trollishly</strike>. References:
[http://docs.openmoko.org/trac/ticket/1864 Comment on ticket 1864], and untested proposed
[http://n2.nabble.com/preserving-illume-keyboard-on-update-tp778734p778919.html patch to qpe].

=== How to change the keyboards layout ? ===

TBD

==== matchbox ====
See instructions on the [[Change matchbox keyboard layout]] page.

==== illume ====

Install ''illume-keyboard-terminal'' package :) they are all recommended ones
for illume.

[http://tg.x-net.hu/openmoko/keyboards/ dvorak layout]

=== How to change the dictionary used by the predictive keyboards ? ===

General instructions for the Qtopia keyboard are as follows.

First, compile the wordlist on your Linux box:
 wget http://www.3v1n0.net/openmoko/qtopia-italian-keyboard.tar.bz2
 tar xvf qtopia-italian-keyboard.tar.bz2
 wget ftp://ftp.mathematik.uni-marburg.de/pub/mirror/openwall/wordlists/languages/***YourLanguageHere***/lower.gz
 gunzip lower.gz
 ./qdawggen -d lang_LANG lower
 mv lang_LANG/lower.dawg words.dawg
Second, move the English dictionary out of the way, on your Neo:
 cd /opt/Qtopia/etc/dict/
 cp -r en_EN lang_LANG
 rm lang_LANG/words.dawg
Third, back on your Linux box, send the dictionary:
 scp words.dawg root@192.168.0.202:/opt/Qtopia/etc/dict/lang_LANG/words.dawg
Fourth, edit /opt/Qtopia/etc/default/Trolltech/locale.conf to change the language
 [Language]
 InputLanguages = lang_LANG
 Language = lang_LANG
Fifth, restart X or reboot your Neo.

Precompiled words.dawg: http://alasal.be/openmoko/keyboard


For illume:
The Terminal layout has an empty dictionary. The words you type are entered automatically in the dictionary.

To add another language you have to do the following steps:
- Get a dictionary file from your computer.
On Debian/Ubuntu systems, it is located in /usr/share/dict
To add a dictionary you can find them by typing :
apt-cache search wordlist|grep ^w|sort
and install it on your computer with :
apt-get install wfrench (replace french with your language)
- Copy the dictionary to your freerunner in /usr/lib/enlightenment/modules/illume/dicts/
for example do :
scp /usr/share/dict/french root@192.168.0.202:/usr/lib/enlightenment/modules/illume/dicts/French.dic
- Now you can choose your language in the upper left corner of the keyboard !


Matchbox has no predictive mode (to be confirmed ?).

=== How to toggle the predictive mode on and off ? ===

TBD

=== How to make Qtopia keyboards and illume/raster keyboard coexist ? ===

TBD

== Your short-term options ==
[[Image:Assume_good_faith_lolcat.jpg|thumb|Even if things might look bad, you shouldn't assume that they are]]

* Turn off the Qtopia keyboard and install the matchbox one instead.
* Keep the Qtopia keyboard, let go (for a while) the desire to use the terminal locally, login remotely via ssh when you need.
* Get an external keyboard, USB or Bluetooth, light and foldable if you want.
* Switch to 2007.2 (but then similar issues arise : [[Switching Keyboards on Om 2007.2]]), FSO or Debian.
* Patch Qtopia so that it plays nice with other keyboards, send upstream, meanwhile recompile and provide a package.
PS: Complaining that management does not listen to the users needs is not a productive option.

== Perspectives for long-term resolution ==

On August 27th 2008, Marek from Openmoko inc. [http://lists.openmoko.org/pipermail/community/2008-August/028152.html announced] the intention to focus on the low-level layers. Future "base system" distribution may not include any phone stack at all.
