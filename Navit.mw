http://navit.sourceforge.net/

[[Image:Navit-1.png|Navit-1]]


Thanks to [[User:Alessandro | Alessandro]], stefan_schmidt, cp15 and all Navit developers I have done a small ("not really working") preview of Navit on Neo1973 at [http://www.telemobilityforum.com/eng/ Telemobility Forum 2007]. Thanks to [http://gfoss.it GFoss] guys to invite me.
''[[User:Tyrael | Tyrael]]''

==Setting up Navit==
I got navit set up and configured to the point where it follows me on the map.  It doesn't have street names or any other information, just the map and the cursor showing the location and direction.  Here's what I did:
* Install navit ipkg on NEO
** Build using a local environment: make build-package-navit
** Download from [[User:Alessandro]] repo (http://aiurlano.netsons.org/OpenMoko/ipk/armv4t/)
* Set up your local maps
** Openstreetmap - follow directions at http://navit.sourceforge.net/wiki/index.php/OpenStreetMaps
** Here's an example of what I did to get the maps for the area around Seattle, Wa where I live:
*** figured out map coordinates using http://informationfreeway.org/?lat=47.520270037501454&lon=-122.20130713167327&zoom=9&layers=B000F000
*** Downloaded 4 regions from openstreetmaps
 wget -O map1.osm http://www.openstreetmap.org/api/0.5/map?bbox=-122.2,47.5,-122,47.7
 wget -O map2.osm http://www.openstreetmap.org/api/0.5/map?bbox=-122.4,47.5,-122.2,47.7
 wget -O map3.osm http://www.openstreetmap.org/api/0.5/map?bbox=-122.4,47.3,-122.2,47.5
 wget -O map4.osm http://www.openstreetmap.org/api/0.5/map?bbox=-122.2,47.3,-122,47.5
*** Made a navit binary map file using the osm2navit binary that comes with the navit package on my linux box
 cat *.osm | bin/osm2navit --dedupe-ways > mymap.bin
*** Copied the map to the NEO
 scp mymap.bin root@neo:/home/root/card/map
*** Changed the navit.xml file on the NEO to use the new map
 vi /usr/share/navit/navit.xml
 <map type="binfile" enabled="yes" data="/home/root/card/map/mymap.bin" />
* Run navit
** Start gllin
** Start gpsd ( gpsd /tmp/nmeaNP )
** Start navit

== News ==

=== Street names ===
They are now displayed on OpenMoko using the CVS version (20071217).

=== Point selection by pen ===
Easier using the CVS version (20071217). 

=== Route > Destination ===
The Route > Destination menu item crashes the software (20071217). 

A current fix is to set the LANG variable before calling navit. For example:
export LANG=fr_FR.UTF-8; navit

Note that a short syntax (e.g. LANG=fr) would not work.

http://trac.navit-project.org/ticket/51

=== Speech ===
Navit can speak if you install eSpeak + speech-dispatcher and updates your navit.xml file.

For adventurous people, one way to do this:

 * mokoTTS aims to integrate these packages in OM:
 http://projects.openmoko.org/projects/mokotts/
 
 install espeak, dotconf, and then speech-dispatcher.
 
 * change the speech tag in navit.xml:
 <speech type="cmdline" data="spd-say '%s'" />
 
 or "spd-say -l fr '%s'" for using the French voice for example.
