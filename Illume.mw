{{Om 2008.8}}
il·lume (ĭ-lōōm') tr.v. To illuminate.
Bringing light to the darkness of the mobile world.

=Introduction=
[http://illume.projects.openmoko.org/ Illume] is a module for [http://www.enlightenment.org  Enlightenment] that modifies the user interface of enlightenment to work cleanly and nicely on a mobile device - such as an Openmoko phone. It is currently geared more for a 480x640 (VGA) portrait mode screen but can be trivially modified to work on QVGA or any other resolution. The Final goal is to have it work on a wide range of resolutions seamlessly.

[[Image:Illume-Keyboard-Screenshot.png]]

It combines an application launcher interface along with an application manager and switcher, virtual keyboard support, as well as forcing certain simple layout policies on applications (such as making their main windows borderless and fullscreen except for Illume's control bar), as well as support for the X11 port of qtopia.

=Getting Started=

Here is how to get started and install Illume on your desktop and try it out. This would also allow development on it, adding features you need and testing them. For this you will want code. First you will want Enlightenment's latest and greatest. How much do you want? You can get the whole repository, or just the bits you need. If you want the whole thing in one checkout, please see http://svn.enlightenment.org for information. If you want to just get a quick script that does it for you try http://www.rasterman.com/files/get_e.sh - this script will check out only the bits of SVN you need. It also assumes you have sudo root access and if on [http://www.ubuntu.com/ Ubuntu] or [[Debian]] it will try and install packages known to be needed for building, or useful. Read the script if you are not sure. If it doesn't know what distribution you use, you will need to try and have a working compiler, autotools etc. etc. yourself. Once you have run this and built and installed everything you will need illume, so fetch it with:

<pre>
svn checkout http://svn.enlightenment.org/svn/e/trunk/e/src/modules/illume/
</pre>

Now you just need to build it like everything else. (it is assumed you know about CFLAGS, LDFLAGS, PKG_CONFIG_PATH, PATH etc. in installing software and compiling it). Illume compiles like everything else in E land - standard autotools, so (in Illume's source directory):

<pre>
./autogen.sh
make
sudo make install
</pre>

This will compile and install Illume. As Illume is a module, not a program in its own right, you need to run it with Enlightenment, so use the provided run-script:

<pre>
./x-ui.sh
</pre>

and if you have [[Getting Openmoko working on host with Xephyr|Xephyr]] installed and everything went ok, a 480x640 window will pop up - with Enlightenment in it on your DISPLAY=:1 X display with all your system's app icons there.

=Slipshelf=

The bar at the top

=Gadgets=

The gadgets in the Slipshelf

=Launcher=

The icons you see on the desktop

=Virtual Keyboard=

Illume's own virtual keyboard and protocol and vkbd setup.

=== How to install the illume (Raster's) keyboard ? ===

Short answer:

<pre>
opkg install illume-config-illume
</pre>

Detailed answer:
<pre>
#Get the qwerty button if not there yet
opkg install illume-config

#Turn off built-in qtopia keyboard
#Add/modify "export QTOPIA_NO_VIRTUAL_KEYBOARD=1" in /etc/X11/Xsession.d/89qtopia

opkg install illume-config-illume

#Purge E's cache
rm -rf ~/.e/e/config/illume

#Restart X
/etc/init.d/xserver-nodm restart
</pre>

Then switch keyboard from "None" to "Default" in Illume's preferences.

Tips when the howto over doesn't work: See [[Keyboard Toggle]] or change /etc/enlightenment/default_profile
to point to the illume profile instead of asu.

=== How to use (Raster's) keyboard ? ===

- Sliding down over any keyboard sends Enter
- Sliding up over any keyboard switches to the next keyboard
- Tapping the upper-right key ("a", "1" or "q") lists the available keyboards
- Tapping the upper-left key "Abc" lists the available dictionaries

- With "a" keyboard:
- Sliding left over the keyboard deletes the last entered key
- Sliding right over the keyboard sends the composed word
- Tapping the upper-left key "Abc" during the composition of a word
lists all possible words in order to choose the right one

- With "q" keyboard:
- Sliding left over the keyboard sends a backspace
- Sliding right over the keyboard sends a space

=== List of illume keyboards ===
{|class="wikitable" border="1" cellpadding="5" cellspacing="0"
| icon || type || package || comments
|-
| [[Image:Qwerty.png]] || terminal || [http://trac.enlightenment.org/e/browser/trunk/e/src/modules/illume/keyboards/Terminal.kbd English QWERTY layout] || Installed by default.
|-
| [[Image:Qwerty-dutch-nl.png]] || terminal || [http://www.opkg.org/package_75.html Dutch QWERTY layout] || Based upon QWERTY terminal layout.
|-
| [[Image:Azerty-french-fr.png]] || terminal || French AZERTY terminal layout || Based upon QWERTY layout. TODO: Icon needs AZERTY overlay.
|-
| [[Image:Terminal-hebrew-il.png]] || terminal || [http://stosb.com/openmoko/illume-keyboards-hebrew_0.1_armv4t.ipk Hebrew פםןךטא layout] || In case there are squares instead of Hebrew letters, change illume's font. TODO: Verify this is a terminal layout and not alphanumeric layout and create proper overlay with פ in front. When needed, change position in this list and rename icon file.
|-
| [[Image:Qwerty-norwegian-no.png]] || terminal || [http://www.aitel.hist.no/~helgehaf/openmoko/ Norwegian QWERTY layout] || Based upon QWERTY terminal layout.
|-
| [[Image:Terminal-russian-ru.png]] || terminal || [http://lucky.awardspace.co.uk/home/openmoko Russian ЙЦУКЕН layout] || Based upon QWERTY terminal layout. TODO: Icon needs  ЙЦУКЕН overlay.
|-
| [[Image:Dvorak.png]] || terminal || [http://tg.x-net.hu/openmoko/keyboards/ Dvorak layout ] || Based upon QWERTY terminal layout.
|-
| [[Image:Alpha.png]] || alphanumeric || [http://trac.enlightenment.org/e/browser/trunk/e/src/modules/illume/keyboards/Default.kbd English QWERTY layout] ||  Installed by default.
|-
| [[Image:alpha.png]] || alphanumeric || [http://jmccloud.jm.funpic.de/kbd/ bigger layout with more space between keys] || Based upon QWERTY alphanumeric layout. Asymmetric and optimized for right handed finger input.
|-
| [[Image:Alpha-danish-dk.png]] || alphanumeric || [https://projects.openmoko.org/projects/danish-illume/ Danish QWERTY layout] || Based upon QWERTY alphanumeric layout.
|-
| [[Image:Alpha-german-de.png]] || alphanumeric || [http://www.hackenberger.at/openmoko/German.kbd German QWERTZ layout] || Based upon QWERTY alphanumeric layout.
|-
| [[Image:numeric.png]] || numeric || [http://trac.enlightenment.org/e/browser/trunk/e/src/modules/illume/keyboards/Numbers.kbd numeric layout] || Installed by default. 
|-
| [[Image:numeric.png]] || numeric || [http://lists.openmoko.org/pipermail/community/2008-September/030096.html Bigger numbers layout and numbers with function keys layout] ||  Good for playing games in ScummVM.
|}

==== How to install a new Keyboard Layout ====

* copy or download the kbd File to <pre>/usr/lib/enlightenment/modules/illume/keyboards</pre>
* now restart the XServer with the following command <pre>/etc/init.d/xserver-nodm restart</pre>
* you should now be able to select the newly installed keyboard

==== How to make your own Keyboard Layout (Illustration)====


<pre>
##KBDCONF-1.0
kbd 450 150

# keyboard type e.g. TERMINAL, ALPHA (this one shows up when writing an sms), NUMERIC, SYMBOL
type TERMINAL
# an icon for the keyboard so you know which one you have
icon qwerty.png

#key  x-coordinate  y-coordinate width-of-key height-of-key
#columns:
#state     symbol(shown on the key)    keysym(output of the key)
key   0   0  30  30
  normal   ` grave
  shift    ~ asciitilde
  capslock ` grave
</pre>

a list of keysyms can be found [http://www.in-ulm.de/~mascheck/X11/keysyms.txt here]

=Configuration=

How to configure illume via its own config dialog

=Dbus=

What is this dbus goop?

[[Category:System Developers]]
[[Category:Om 2008.8]]
