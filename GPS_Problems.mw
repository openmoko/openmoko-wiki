{{Note|Much of the information in this page is duplicated at [[GTA02 GPS Problems]]; they should probably be merged one way or the other}}

See [[GPS]] for details on how to evaluate the Freerunner GPS with command line utilities.
=== Problem: it takes a long time (10min+) before the Freerunner gets first GPS data ===

It was found that the OpenMoko FreeRunner GPS has a long Time To First Fix (TTFF) with the SD card in the phone. [http://lists.openmoko.org/pipermail/community/2008-July/021774.html This thread] indicates that there is interference from the SD card slot, as without the SD card inserted it the TTFF are much shorter.

::More specific: the GPS signal level drops by -20dBm, i.e. factor 100. Signal strength of a GPS satellite above your head is around -127dBm. Needed strength for a first fix is -145dBm with a minimum of three satellites. Once the GPS chip has a fix, it can operate at signal levels of -157dBm, thus making it possible to operate while there is data transfer from/to the SD card.
::''(From http://lists.openmoko.org/pipermail/community/2008-July/022202.html )''

=== Solutions ===

The people of OpenMoko know about the problem and are working on it. A [http://lists.openmoko.org/pipermail/openmoko-kernel/2008-July/003777.html software workaround] is under testing. It turns off the SD card clock when the SD card is not being used. One will be able to use the SD card at the same time as the GPS except for the first approximately 30 seconds.

OpenMoko is also examining a hardware solution.

=== Discussion ===

The following is based on [http://lists.openmoko.org/pipermail/community/2008-July/022180.html Alasal's post] to the community mailing list.

;What is TTFF?
:This is the time to first fix of the GPS. This is the time the GPS needs to get the first clue on where you are on planet earth. So you have to do this only once. After you have a FF (first fix), you can get more fixes without any problems with the SD card in the phone.


;So if we have a first fix, the SD card doesn't block the GPS anymore?
:Yes, the SD card doesn't block the GPS if we have a first fix. (Some people even claim it's more stable)


;Why do we need a first fix?
: According to [http://lists.openmoko.org/pipermail/community/2008-July/020705.html Al Johnson], the Antares4 chip on the GTA02 doesn't have the memory needed to store almanac and ephemeris, last known position or time. This means that every start is a true cold start. It [http://lists.openmoko.org/pipermail/community/2008-July/020772.html is possible] to save location, almanac and ephemeris at GPS shut down, and restore these information at the next startup, but that does not seem implemented yet.


;Does the lower signal also effect accuracy?
:It is a good deal more jittery. However, if you drive around in a city you will get a lot more error from signal reflections than from the jitter.
:''(From http://lists.openmoko.org/pipermail/community/2008-July/022209.html )''


;Do they have a solution?
:Yes. There is already a highly alpha software workaround. The software just turns off the SD card clock when the SD card is not being used. They are also examining a hardware solution.
::The software fix is still in testing. Expect first results this noon (''Thursday, 17th July 2008'') (Taipeh time).
::Also, the hardware fix needed is rather easy. No need to open the shielding or housing. We are working on a document which gives you detailed instructions.
::''(From http://lists.openmoko.org/pipermail/community/2008-July/022242.html )''


;Do we have to return our FreeRunners to OpenMoko?
:Probably not, because the software workaround should work too.


;But we can't read from the SD card when the GPS is on?
:Wrong, you will be able to read the SD card when the GPS is on. You will probably not be able to read the SD card when you're starting the GPS (approximately 30 seconds), because the SD card only stops the GPS from getting its first fix. After that you will be able to read the SD card again.


;Is there a better software solution?
:Maybe. From reading the mailing list, I have understood that half the Openmoko team is looking into this bug. All this information is only 1 - 2 days old and the bug is also young, so I suspect they can fine-tune the software workaround and make it only slow down the SD card or even better.


;Did Openmoko test the GPS with a SD card in it?
:Yes.


;Whey didn't they find it while testing the Freerunner?
:Because they have to do the tests with a fake GPS signal and with that signal it worked (In a fab you don't have a decent GPS signal). They have already modified the test, so it corresponds to the GPS signal better.

== Information about faulty antennas ==

* If you removing the SD card doesn't help and you suspect your antenna, try unplugging and replugging the internal GPS connector. (See [[Disassembling_Neo1973]] about 2/3 of the way down.  (this may differ on freerunner, pictures appreciated)
Also note that there is a trac ticket for this issue: [http://docs.openmoko.org/trac/ticket/1542 #1542]

[[FreeRunner_GPS_antenna_repair_SOP]] Indicates that some (rare?) units may have bad soldering, and includes a guide to fix. This will presumably void your warranty.

[[Category:GPS]]
