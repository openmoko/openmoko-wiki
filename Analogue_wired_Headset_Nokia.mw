
The pinout of the [http://en.wikipedia.org/wiki/TRRS_connector TRRS connector] in Nokia HS40, and probably all Nokias, is the following (note: confirm with an stereo one):

* Sleeve: ground
* First ring: microphone and button (low resistance to ground on press)
* Second ring: right speaker/stereo or not connected/mono
* Tip: left speaker/stereo or main speaker/mono

[[Image:Trrs.jpg]]

This pinout is not valid for GTA01 nor GTA02. It is better not trying it because a high voltage is applied to the low impedance speaker erroneously.

Hence, Nokia headphones are '''INCOMPATIBLE''' with GTA01-02. To use Nokia headphones you have to rewire them. Doing this invalidates the warranty of the headphones.

The following sections describe the modifications made to diferent models of headsets by its owners. '''Use them at your own risk.'''

== HS-40 ==

[http://lists.openmoko.org/pipermail/community/2008-September/029633.html Announce here]

The [http://europe.nokia.com/HS-40 Nokia HS-40 Headset] is a cheap mono headset (around 9 EUR in Spain). Here are some measurements before rewiring:

* sleeve - ground
* first ring - mic (mic resistance 1K1 to ground, if button is pressed 48R)
* second ring - unused
* tip - speaker (34R to ground)

To reach the PCB you have to remove the bottom black piece of the gray case. It is glued with a soft adhesive, so simply pull out with a fingernail. Below this you can find one of the two screws. 

[[Image:NokiaHS40_disassemble1.jpg]]

The upper black piece is now unlocked, and you only have to remove it to see the second screw.

[[Image:NokiaHS40_disassemble2.jpg]]

Now you have opened the case. Remember where the knots of the cables are, and pull out the PCB.

[[Image:NokiaHS40_disassemble3.jpg]]

This is a closer view of the PCB. Note that the cable with two wires on the left, goes to speaker. The next cable with four wires, goes to the plug. From left to right: the 1st (red) is tip, the 2nd (pink) is sleeve, the 3rd (shield) is also sleeve, and the 4th (white) is first ring. You have to swap the 1st and the 4th, the tip with the first ring.

[[Image:NokiaHS40_modification.jpg]]

That's all. Assemble and assure that there aren't any shortcircuits with a multimeter.

You have to change the gain of the output in alsamixer from 80% to 95% because the output from speaker is a bit low. After that, speaker works perfectly. The reason maybe is that 34R is below the 40R [http://lists.openmoko.org/pipermail/community/2008-March/013792.html minimum recommended impedance], but maybe it's still a safe value. Microphone works perfectly. Button doesn't work (yet).
