= Finger-scrolling =
== Driver ==
I've implemented drag-scrolling on my Freerunner (drag on the touchscreen to generate scrolling, instead of dragging events). By placing this code into the X mouse driver, all applications that support the mouse wheel (the vast majority do) automatically become finger-scrolling enabled.

With this patch, scroll events are generated by pressing on the touchscreen, and dragging in the desired scroll direction. Dragging can still happen, by
pressing the touchscreen, and not moving the finger for a short time (200ms currently). This is useful for selecting text, for example.

The driver:
[http://secretsauce.net:5050/scrolling_patches/x/tslib_scrolling.patch patch]
[http://secretsauce.net:5050/scrolling_patches/x/xserver-kdrive-glamo_1.3.0.0+git.bb recipe]
[http://secretsauce.net:5050/scrolling_patches/x/xserver-kdrive-glamo_1.3.0.0+gitr9b28d998424c77fbc057dd3a022ccbb122793a52-r4_armv4t.ipk ipk]

If using SHR, just "opkg install" the package and you're ready to go.

===Downsides===
1. Right now you can scroll and drag with a similar motion (pause before moving finger to drag). This is not intuitive to new users.
2. The Kdrive X driver has been patched, not yet the Xorg driver.
3. The driver assumes the screen is oriented vertically. If X is rotated, the orientations become wrong

=Application-level support=
== Illume keyboard ==
The Illume keyboard doesn't natively support the mouse wheel and contains its own scrolling code.

[http://secretsauce.net:5050/scrolling_patches/e-wm/illume-kbd-scroll.patch patch]
[http://secretsauce.net:5050/scrolling_patches/e-wm/e-wm_svn.bb recipe]
[http://secretsauce.net:5050/scrolling_patches/e-wm/e-wm_0.16.999.050+svnr41040-r5.5_armv4t.ipk ipk]

== Tangogps ==
By default Tangogps zooms in/out in response to the mouse wheel. I feel this is inappropriate, so I disabled it. With the patch below, the mouse wheel does nothing; I haven't connected panning to the wheel. With the patch below, you have to hold your finger for a bit before moving it for the panning to happen. This isn't ideal yet.

[http://secretsauce.net:5050/scrolling_patches/tangogps/tangogps_noscroll.patch patch]
[http://secretsauce.net:5050/scrolling_patches/tangogps/tangogps.inc inc used in recipe]
[http://secretsauce.net:5050/scrolling_patches/tangogps/tangogps_0.9.6-r1_armv4t.ipk ipk]

== FLTK ==
I use Dillo as my browser. Dillo uses the FLTK2 toolkit, which supports vertical scrolling by default, but not horizontal scrolling. Here're are FLTK patches to fix this. Also, a fix for an FLTK keyboard bug triggered by the Illume keyboard is included ([http://www.mail-archive.com/fltk-bugs@easysw.com/msg02260.html bug report]).

[http://secretsauce.net:5050/scrolling_patches/fltk2/xmousewheel-x11.fltk2.patch Horizontal scrolling patch]
[http://secretsauce.net:5050/scrolling_patches/fltk2/fltk_keyrepeat.patch Keyboard patch]
[http://secretsauce.net:5050/scrolling_patches/fltk2/fltk2_svn.bb recipe]
[http://secretsauce.net:5050/scrolling_patches/fltk2/libfltk2-2.0_1.9.9+svnr6834-r0_armv4t.ipk ipk]

[[Category:Software]]
