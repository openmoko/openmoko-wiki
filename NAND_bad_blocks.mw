== Problem ==

NAND memory apparently gets shipped with blocks that are already bad.  The vendor just marks those blocks as bad, thus resulting in higher yield and lower per-unit cost.

There is some number of blocks at the beginning which are guaranteed to be good.  That number is currently unknown for our NAND chip.

== Solution ==

The solution is split into various pieces

=== Boot loader ===

The boot loader itself contains a small first-stage boot loader for the [[S3C2410 Steppingstone]]. 

This code (which Harald wrote in ARM assembly) needs to be altered to detect and skip bad blocks.  At this time, the bootloader could itself extend over bad blocks.  However, how do we first flash the bootloader into NAND? The JTAG flashing program has no support for detecting bad blocks.

=== Kernel ===

The kernel is contained in its own partiton [[QT2410#NAND]].  We have to flash it using the
 nand write.e
command, and read it later again via
 nand read.e
command.  Those two variants (as opposed to their non-".e"-postfixed versions) simply skip bad blocks

=== Root Filesystem ===

The root filesystem uses JFFS2, which is already bad block tolerant.  It, too, has to be written using the
 nand write.e
command in [[u-boot]]
