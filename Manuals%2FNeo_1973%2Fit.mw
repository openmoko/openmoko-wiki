Alcuni brevi passi per quelli che hanno appena ottenuto il loro primo Neo1973.

== Hardware ==

=== Inserire la batteria ===

Leggi [[Disassembling Neo1973/it|Disassemblare il Neo1973]].

=== Accendere il cellulare ===
[[Image:Neo1973_uboot_splash.jpg|200px|thumb|schermata del bootloader]]
Premendo semplicemente il bottone di accensione (a seconda della propria versione di [[u-boot/it|u-boot]] si deve premere per un tempo >= a 5 secondi) dovrebbe permettere al cellulare di attivare il bootloader, poi avviare il kernel, e infine entrare in X/OpenMoko.

Una volta aver premuto il bottone di accensione per un tempo sufficientemente lungo, il cellulare vibra leggermente e le luci dello schermo si accendono. Si può adesso rilasciare il bottone e guardare il cellulare mentre si avvia.

Se la batteria non è carica a sufficienza, il cellulare non si accenderà, anche se il cavo usb è inserito.

=== Spegnere il cellulare ===

==== Durante la modalità bootloader, o se il cellulare ha avuto un crash ====

Premendo il bottone di accensione per 9 secondi, il cellulare si spegnerà. Si può notare questo grazie alle luci di sfondo che si oscurano.

==== Mentre sta girando un completo filesystem Linux in userspace ====

In questa modalità, tenere premuto il bottone di accensione per 5 secondi sarà sufficiente. Dopo questo, il processo di inizializzazione si preoccuperà di spegnere in modo sicuro il cellulare, operazione che può richiedere al massimo 20 secondi in più. Il server X deve essere killato, si ritorna ad una console semplice, e alla fine il cellulare si spegne - come un normale PC con Linux.

=== Caricamento della batteria ===

Il [[Neo1973/it|Neo1973]] supporta due modalità di caricamento: la modalità 100mA (chiamata pre-charge) e la 500mA (chiamata "fast charge"). Il caricamento è effettuato tramite il socket USB. Si può usare qualsiasi cavo USB-A o USB-mini-B per collegare il cellulare ad un qualsiasi host USB.

==== Durante u-boot ====

Mentre si è in modalità u-boot, il telefono si può caricare solo con 100mA. (Questo sarà cambiato in una delle revisioni future).

In ogni caso, usando la console di u-boot si può attivare manualmente il caricamento veloce. Vedi [[U-boot/it#Battery_charger_related|Battery charger related]] per maggiori informazioni.

==== Mentre si è in Linux ====

Non appena il cellulare è collegato al cavo USB, si caricherà. Comunque, la modalità predefinita è solo 100mA, troppo poco potente se si vuole usare il telefono e caricarlo nello stesso momento.

Se la propria porta USB di upstream è capace di fornire 500mA, allora il Neo1973 sarà configurato di conseguenza e userà la modalità di caricamento a 500mA. Si può notare ciò nella seguente riga del log del kernel
 usb0: full speed config #1: 500 mA, Ethernet Gadget, using CDC Ethernet

=== Inserire la SIM card (opzionale) ===

L'alloggiamento si trova appena sotto la batteria. Il posto per la scheda ha delle frecce per indicare in che modo la si inserisce e la si toglie - assicuratevi di non fare forza per aprirlo mentre è bloccato o potrebbe rompersi. Inserite la SIM in modo da fare contatto e premete con fermezza il sostegno finchè non emette un click, poi bloccatelo - altrimenti la scheda non sarà rilevata.

Per controllare se la SIM card è inserita correttamente sotto Linux, si può leggere nei log di gsmd oppure usare le istruzioni dettagliate nella [[Manually using GSM/it|Manually using GSM]] pagina e dare il comando ''AT+CIMI'' .

== Ottenere una shell sul cellulare ==

=== Usando l'emulatore di terminale e la tastiera-su-schermo ===

Usando uno stilo cliccare l'icona della freccia in alto a sinistra per visualizzare un menu con "Media", "Settings", "Utilities" e "Desktop". Scegliere "Utilities->Panel->Input Manager", e l'icona di una tastiera apparirà nella barra in alto. Si può avere una tastiera su schermo in ogni momento con questi passaggi.

Con le recenti immagini, la tastiera appare quando si preme la zona bianca nella barra.

Dal desktop, scegliere "Active tasks->rxvt" per avere una shell di root.

Il terminale è nel menu nella parte in alto per le recenti immagini.

=== Usando l'emulazione Telnet tramite un cavo USB ===

Il [[kernel/it|kernel]] standard di Neo1973 ha il supporto per "cdc_ether USB gadget", ovvero un'implementazione standard di come emulare un dispositivo Ethernet su USB.

Non appena il kernel è attivo e in funzione, e il telefono è collegato via USB, si dovrebbe avere avere un dispositivo '''usb0''' sul proprio host.

Il cellulare avrà l'indirizzo IPv4 192.168.0.202/24. Eseguire `ifconfig` sul terminale del cellulare per verificarlo (non è obbligatorio, serve a controllare se tutto funziona)

Se si collega un cavo USB ad un portatile con Linux, si vedrà molto probabilmente il modulo kernel "cdc_ether" che viene caricato e apparirà un'interfaccia di rete usb0.

Sull '''host PC''', dovreste quindi configurare l'interfaccia con 192.168.0.200 utilizzando
 # ifconfig usb0 192.168.0.200 netmask 255.255.255.0

Dopo dovreste poter fare
 # ping 192.168.0.202

e ultimo, ma non meno importante
 # ssh root@192.168.0.202

Appena si preme 'enter' (password nulla), si dovrebbe ottenere un login root.

=== Usando la board/serial/JTAG di debug ===

Vedere [[Debug Board/it#Usage_Instructions|Usage Instructions]]

== Avere un accesso alla console del bootloader ==

Leggere [[u-boot/it#Using_usbtty_from_Linux|Using usbtty from Linux]]

== Comandi utili sotto Linux ==

=== Sospendere ===

Scrivere "mem" in ''/sys/power/state'' dice a Linux di sospendersi - entrerà in una modalità a basso consumo energico, solo il GSM e la RAM sono attive mentre la CPU è sospesa. Rimarrà in questo stato finchè non arriva un evento in grado di "svegliarlo". Alcuni eventi del genere attualmente attivi sono: premere i tasti AUX o POWER, il riconoscimento di un cavo USB.

Se si è connessi tramite ssh, sshd smetterà di rispondere quando l'OS è in sospensione, quindi per evitare di bloccare il client ssh, si usa il comando:
 # (sleep 1; echo mem > /sys/power/state) & exit

=== Backup iniziale ===

Dopo aver avviato per la prima volta il nuovo Neo1973 si può fare un backup del contenuto originale del flash chip sul PC, prima di sovrascriverlo con un'immagine personalizzata o aggiornarsi ad una revisione più recente. Questa è una buona idea perchè ci sono parti del filesystem di root che non possono essere distribuite su Internet e quindi si trovano solo nella ROM (vedi il driver [[GPS/it|GPS]]). Un modo semplice di backuppare tuto il Flash, che non richiede di installare nessun software particolare, è con ''netcat'' tramite il [[USB Networking/it|USB ethernet]]. Seguire i comandi:

{|
! Sull'host !! Sul destinatario
|-
|<pre>
$ netcat -l -p 20000 > mtdblock0
$ netcat -l -p 20000 > mtdblock1
$ netcat -l -p 20000 > mtdblock2
$ netcat -l -p 20000 > mtdblock3
$ netcat -l -p 20000 > mtdblock4
</pre>
|<pre>
# cat /dev/mtdblock0 | nc 192.168.0.200 20000
# cat /dev/mtdblock1 | nc 192.168.0.200 20000
# cat /dev/mtdblock2 | nc 192.168.0.200 20000
# cat /dev/mtdblock3 | nc 192.168.0.200 20000
# cat /dev/mtdblock4 | nc 192.168.0.200 20000
</pre>
|}

Questo archivia le cinque partizioni NAND in file di nome mtdblock*. Conoscendo l'aspetto della partizione (il comando u-boot "mtdparts" sul dmesg di Linux) si può ripristinare l'intero flash con essa.

<span id="bottom"></span>
{{Languages|Getting_Started_with_your_Neo1973}}
