Welcome to the OpenMoko page devoted to MacOS X users!

Here you can find notes of using Neo1973 (and maybe other OM devices) with Mac.

= Flashing to your device =
To operate the Phase 1 devices, you need to flash a root file system first.

NOTE: you need an Intel Mac to run dfu-util since it is currently broken on big-endian machines (PowerPC).

Here is a detailled instruction:
# download AJZaurusUSB-0.5.2 (or later) (latest 0.5.2) from http://www.dsitri.de/wiki.php?page=AJZaurusUSB
# install
# run 'sudo kextload /System/Library/Extensions/AJZaurusUSB.kext' from Terminal (or reboot your Mac as described - but you do not need to configure AJZaurusUSB it before flashing the OpenMoko)
# download OpenMoko Flasher (latest 1.2) from http://www.dsitri.de/wiki.php?page=OpenMoko%20Flasher
# [V1.0 only: create a new Folder at "~/Library/Caches/OpenMoko Flasher"]
# press the Refresh button (which loads the list of packages on the server)
# select and load the rootfs (takes some minutes for approx. 40 MByte)
# [V1.0 and V1.1 only: open the Console application and show the console.log]
# Now, on your OpenMoko, hold the AUX button while pressing the Power button for 5 seconds
# the BOOT menu should appear
# connect the USB cable
# Press the Flash button
# the BOOT menu screen on the OM should show an indication that it has been switched to DFU mode
# if it fails), unplug the OpenMoko shortly and replug and try again (experience shows that it is needed up to three times)
# if it successfully flashed, you should be able to boot the OpenMoko and continue configuring AJZaurusUSB

The dfu-utils tool is included in the OpenMoko Flasher application; you can access it as ''OpenMoko Flasher.app/Contents/MacOS/dfu-util'' ; alternatively, you can compile dfu-util manually as described at http://wiki.openmoko.org/wiki/User:SNMoore

= Connecting to your device =

== USB ==

You can telnet, SSH, SMB or do whatever you want if you install software that enables you to set up TCP/IP network over your USB connection.

MacOS X does not provide such a driver for RNDIS/Ethernet Gadget. But you can use an open source (GPL) universal driver http://www.dsitri.de/wiki.php?page=AJZaurusUSB which is developed for handheld devices like iPAQ, Sharp Zaurus, and Motorola A760. Download it and install according to manual found inside of the package.

After reboot, you should have a new Ethernet interface in your System Preferences/Network. Set up the network manually for that interface by using these addresses:
<pre>
IP-V4: manual
IP-Addr:  192.168.0.200
Subnet:  255.255.255.0
Router: 192.168.0.202
</pre>
This might conflict with some WLAN routers which also use the 192.168.0.0 network.

You should be able to connect to your Neo! Try using ping 192.168.0.202 and the roundtrip time should be between 1 and 2 ms.

NOTE: the software is sometimes a bit flaky, and a reboot of the Mac seems to bring it back. It is especially critical about hot unplugging the OM and sleep modes of MacBooks. This may even result in a Kernel Panic.

== Telnet, ssh, SMB ==

To Be Done.

=== ssh ===

After making the USB connection work, start ssh:

ssh -l root 192.168.0.202

If you don't have installed the key, it will ask for a "yes" on the first connection and for a password on each other. This is "root" unless you change it.

 MacBook-hns:~ hns$ ssh -l root 192.168.0.202
 root@192.168.0.202's password: 
 root@fic-gta01:~$ hostname
 fic-gta01
 root@fic-gta01:~$

NOTE: the ssh daemon (dropbear 0.49) on the OpenMoko appears to have a bug when sending the exit status back to the client. From time to time you receive an exit status of 255.

== Bluetooth ==

To Be Done. See also: [[Bluetooth_Support#PPP_Networking]].

== WiFi ==

To Be Done.

= Synchronizing =

This is not done yet. Possible solutions are SyncML or ZMacSync http://www.dsitri.de/wiki.php?page=ZMacSync

ZMacSync does not yet synchronize but allows more easy access to the OpenMoko through Terminal/ssh.

= Sharing connection =

== Mac as a server ==

Here is described how to enable your Mac to serve as a internet router for your OpenMoko device.

=== Bluetooth ===

This could help: 

http://wiki.openmoko.org/wiki/Bluetooth_Support#Networking

http://www.macosxhints.com/article.php?story=20051220221237711

=== USB ===

If you install AJZaurusUSB driver you should be able to set up your Mac as a router (not tested).

== Neo1973 as a server ==

To Be Done.

= Developing software =

== Using virtualization software==

You can use Parallels or VMWare to install your favourite Linux distribution and then develop just as on Linux.

There are some drawback since AFAIK dfu-util may not work correctly in such environments.

== Natively ==

There are some efforts to get through process of compiling OE and OpenMoko under mac: [[OpenMoko_under_QEMU_on_MacOSX]]

[[Category:Developer software]]

= Other Resources =

== Search Software Repositories ==

[[http://www.versiontracker.com/php/qs.php?action=search&str=openmoko&srchArea=macosx Keyword OpenMoko]] at VersionTracker

== Discussion Fora ==

[[http://www.oesf.org/forums/index.php?showforum=63 Mac Issues Forum]] at Open Embedded Software Foundation (was Zaurus User Group)
