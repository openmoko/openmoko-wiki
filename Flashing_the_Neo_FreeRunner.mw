As Openmoko development continues, Openmoko regularly releases updated versions of the Openmoko root filesystem, the kernel, and the[[Bootloader| U-Boot]]. These may be programmed into the Flash memory of Neo FreeRunner. You can use the USB cable and Openmoko provided tool to flash Neo FreeRunner.

{{note|The Openmoko software team builds images daily. If you want to use the latest images, you can download the image from the daily build, but we recommend you download the most stable image from http://downloads.openmoko.org/releases/Freerunner/. Images here have been tested by the test team.

See [[Latest Images]] for more information about the different images available.}}
{{note|If you have a working image that you're happy with but want to try something different, you should probably do a [[Pre-Flash Backup]], although it looks like the method on that page may not entirely work.}}

===Download the DFU-util===

==== from GNU/Linux ====

You can download the flashing tool for a GNU/Linux host from: 
http://downloads.openmoko.org/releases/Freerunner/dfu-util

On the GNU/Linux host you can use the following command to download the dfu-util:
 wget http://downloads.openmoko.org/releases/Freerunner/dfu-util

Afterwards you have to change the rights on the file:
 chmod a+x dfu-util

==== from Windows ====

You can download the flashing tool for a Windows host from: [http://projects.openmoko.org/frs/?group_id=166&release_id=162 http://projects.openmoko.org/frs/?group_id=166&release_id=162] (see installation instructions at [[Dfu-util-windows]])

==== Using dfu-util ====

Dfu-util will be used like this, to write an image file to a (predefined) "partition name" (referred to as ''Altsetting'' in dfu-util help/manual) :

 ./dfu-util -a (partion name) -R -D (download image file name)

{{note| The meaning of the parameters you specified:
-a  --alt alt : Specify the Altsetting of the DFU interface by name or by number<br>
-R  --reset : Issue USB Reset signalling once we're finished<br>
-D  --download file : Write firmware from<file> into device <br>
}}

===Flashing the Kernel===

{| class="wikitable" cellspacing="2" cellpadding="2" style="padding: 0%; margin:0em 0em 1em 0em; border:0px solid #ffffff; background:#ffffff; width:100%;floating="center";font-weight: normal; "
! style="background:#ffffff;border-left:1px solid #ffffff;border-right:1px ; border-top:2px solid #ffffff; border:1px solid #ffffff; width:75%;font-weight: normal; " |  
<div align="left">
[[Image:menu15.jpg|thumb|Log into U-Boot in NOR Flash, connect your Neo with Linux Host via USB cable]]

The Neo FreeRunner needs to be at the NOR uBoot menu for flashing. For more information on booting, see [[Booting the Neo FreeRunner| booting the Neo Freerunner]]. Log into the NOR uBoot menu and select Set console to USB. ''/Just stay in NOR uBoot menu to be able to connect via dfu-util. If selected and entered "Set console to USB", then dfu-util was unable to connect./'' Now you will be able to flash, make backups of your Freerunner or query the Freerunner with dfu-util.

'''Then''', connect your Neo to the GNU/Linux or Windows host via USB cable.

You can download the kernel from 
http://downloads.openmoko.org/releases/Freerunner/

----
==== from GNU/Linux ====

Type in the following command in the terminal on a GNU/Linux host. On some systems you need to be root before this will work and on Ubuntu you must preface the command with "sudo" or you will get the following error: "Cannot claim interface: could not claim interface 2: Operation not permitted"

 sudo ./dfu-util -a kernel -R -D uImage-2.6.24+git20080424-om-gta02.bin

==== from Windows ====

Type in the following command in the console on a Windows host:

 dfu-util -a kernel -R -D uImage-2.6.24+git20080424-om-gta02.bin

----

Press Enter to execute the command.

When flashing succeeds the following will be shown:

 status(0) = No error condition is present
 Done!
</div>
|}

===Flashing the Root Filesystem ===
You can download the root filesystem from:
http://downloads.openmoko.org/releases/Freerunner/

----

==== from GNU/Linux ====

Type the following command in the terminal of a GNU/Linux host. On some systems you will need to be root.

 ./dfu-util -a rootfs -R -D openmoko-devel-image-fic-gta02.jffs2

==== from Windows ====

Type the following command in the console of a Windows host.

 dfu-util -a rootfs -R -D openmoko-devel-image-fic-gta02.jffs2

----

When flashing succeeds the following will be shown:

 status(0) = No error condition is present
 Done!

=== Flashing u-boot ===
 dfu-util -a u-boot -R -D uboot-gta02v5-latest.bin

[[Category:Flashing Openmoko| ]]
