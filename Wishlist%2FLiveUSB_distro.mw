{{wishlist}}

An openmoko device could act as the perfect geeky swiss knive: go anywhere with your Linux desktop and tools

When in storage device mode, a host computer should be able to boot on it, presenting a grub menu offering to boot into several images / partitions (payloads) on the transflash: memtest, UBCD (the ultimate boot cd), a lightweight security oriented livecd distro, you name it... 

Usually, all you need for this with an USB storage device (flash USB stick or external drive) is a partition, flagged "bootable" (see fdisk), containing a boot loader (say grub). But the problem is that specifications vary between motherboards, so there are variants and mandatory requirements to define (here would be a good idea), so that one can optimize/maximize the compatibility.

Similar functionality can be found in [http://en.wikipedia.org/wiki/Wizpy the Wizpy portable media player]

The booted payloads must'nt rely on dedicated partitionning; for instance, Ubuntu's boot menu offers memtest execution, here's the grub config line (/boot/grub/menu.lst):

title           Ubuntu, memtest86+
root            (hd0,2)
kernel          /memtest86+.bin
quiet
boot

The file is located /boot/memtest86+.bin
What's this file? An ISO? ....

TODO:
* can one do the same with a distro
* how to have a writable system (to keep changes)
* can it already be done?
* partitions or binary images?
* what are the compatibility tricks?

Requirements:
* The booted OS should be able to access to openmoko's personal data (ex contacts directory, media files...): the home partition
* It would be great if the device could charge at the same time
* integrate qemu for in-other-OSes loading (without rebooting)
* if possible, the device should still work normally: act as gprs modem, phone

The only function used by the host computer is the storage device

==Links==

[http://www.debuntu.org/how-to-install-ubuntu-linux-on-usb-bar Howto install ubuntu (or any other distro) on usb stick]

[[Category:Ideas]]
