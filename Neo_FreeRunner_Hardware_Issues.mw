{{Neo FreeRunner Menu}}

This is a community-written page that discusses '''hardware issues''' with the FreeRunner/[[GTA02]] device. Information here is unofficial (and possibly incorrect) unless otherwise stated. Corrections and clarifications from Openmoko employees would be greatly appreciated.

Also please '''DON'T PANIC''' when reading this page. Please give Openmoko employees time to investigate these issues and to develop a solution.  Some of the items may turn out to be non-issues, or may have software workarounds. The FreeRunner's software is still under heavily development and can help fix most of this problems.

=== Active Issues ===

==== Poor Audio Quality ====

Issue: The person on the other end of a GSM phone call may experience poor audio quality, to the point where he/she cannot carry on a normal conversation.

There are three related aspects to this issue:
* Call is too quiet (mixer settings for mic and/or earpiece are set too low)
* Caller hears a loud echo of their own voice [http://docs.openmoko.org/trac/ticket/1267 #1267]
* Buzzing noise caused by GSM radio interference [http://docs.openmoko.org/trac/ticket/883 #883] [http://docs.openmoko.org/trac/ticket/1352 #1352]

Affects: all devices but only some users (depending on many factors)

Status: Under investigation. There is a possibility that the quality can be made "good enough" through software (mixer settings).

The source of the GSM buzz has been [http://lists.openmoko.org/pipermail/hardware/2008-August/000415.html identified].

Some [http://lists.openmoko.org/pipermail/hardware/2008-August/000451.html hidden Calypso commands] may help with the echo problem.

Workarounds: 

# Using a bluetooth headset is a possibility. 

# Better mixer settings: One confirmed good settings are here: http://www.mail-archive.com/support@lists.openmoko.org/msg00564.html. Please change accordingly in /usr/share/openmoko/scenarios/gsmhandset.state. Should eliminate/lessen echo and buzz problems.

==== PMU/Charger Issue ====

Issue: Neo FreeRunner requires battery power to boot, because Neo FreeRunner consumes too much current while booting to boot with only a charger. Since charging isn't enabled until the Neo FreeRunner has booted, this means that a discharged battery can not be charged.

Affects: Unknown.

Status: By properly sequencing module power sequence, a software solution to this problem should exist.

Fixed(?) with [http://lists.openmoko.org/pipermail/openmoko-kernel/2008-July/003799.html Werner Almesberger patches] - [http://lists.openmoko.org/pipermail/commitlog/2008-July/005403.html more here] [http://lists.openmoko.org/pipermail/community/2008-July/023392.html additional information]

Workarounds: 

# Make sure that the battery never discharges completely
# Use external stand-alone charger (compatible with the Nokia BL-5C battery)
# Boot the FreeRunner with an alternative battery (e.g. Nokia BL-4C or Nokia BL-5C), or with a spare GTA01 or GTA02 battery, plug USB power, then switch to the empty battery.
# Boot the FreeRunner with a 4.5VDC external power source (steady hand and great care involved), plug USB power, then insert the empty battery.
# [[Charging_battery_directly|Charge the battery directly]] (not recommended! even greater care is required).
# Some users have reported that Neo FreeRunner '''is''' able to boot on USB power alone using the NOR u-boot, thus: press AUX, plug USB power, select boot. Reports of success would be appreciated.

See also:
:[[Neo_FreeRunner_Battery|Neo FreeRunner Battery]]

==== Some SIMs Don't Work ====

Issue: There are reports that some users cannot register with their GSM network when using certain SIM cards. See for example http://lists.openmoko.org/pipermail/community/2008-July/020370.html

It is possible that there is more than one issue involved here. The observed problems ''might'' (i.e. some items are only speculation at this point) be caused by: 

* User error, not inserting the SIM in the correct orientation or not sliding the holder to the 'locked' position

* Software issues that result in a locked SIM (not properly prompting the user for a PIN and then passing this to the SIM)

* Mechanical issues with the SIM holder that prevent the pins from making reliable contact with the pads on the SIM. Note that only 6 of the 8 pins are used, and the remaining two are not connected.

* Electrical incompatibility (some tests show problems with 1.8V SIMs while 2.9V ones work OK)

* Firmware bugs in the TI Calypso GSM chipset. Note that one issue in this category was found and fixed on the GTA01 devices (#666 in Trac), and that specific problem should not affect the FreeRunner.

* Defective SIMs, i.e. ones that do not comply with the applicable standards and are acknowledged as being defective by the carrier (even if they happen to work in some phones). 

* You may have true 3G operating at 2100 and your sim doesn't fallback to GSM. The Phone works on 850/1800/1900 or 900/1800/1900.

See also: 
* http://wiki.openmoko.org/wiki/Carriers/ATT
* http://wiki.openmoko.org/wiki/Carriers/Rogers

Affects: Only a subset of users (details unknown).

Status: Under investigation. Please add your information to [[FreeRunner_unable_to_work_with_3G_SIM_cards]] or [[GSM network registration]]

Workarounds: It may be possible to obtain a different model of SIM from your GSM carrier.

=== Known/Accepted Issues ===

This section lists items that are acknowledged as being less than ideal, but are considered to be acceptable in the shipping product. They will not be discussed in detail on this page.

* Poor performance + slow bus speed of the Glamo GPU - discussed to death on the mailing lists and IRC.  
* [http://lists.openmoko.org/pipermail/hardware/2008-April/000055.html GPS antenna switch] driven out-of-spec - does not appear to have a significant effect on device performance
* Poor low-frequency audio response with low-impedance headphones, e.g. as discussed in this thread:   http://lists.openmoko.org/pipermail/openmoko-kernel/2008-March/001999.html  (NOTE - this thread refers to pre-mass-production devices)
** Can be fixed to an semi-acceptable level (if not high fidelity most probably) by adjusting "Bass Volume" to full (15) and "Bass Filter" to "100Hz @ 8kHz" (bass will be boosted <= 600Hz when playing back at 48kHz) or "200Hz @ 8kHz" (<= 1200Hz @ 48kHz). The default is 130Hz @ 48kHz and does not help much with the more wider scope of low frequencies.
** Ideally someone would record output and find out which setting produces best output, ie. compensating for the loss of low frequencies without boosting too high frequencies with this "bass" boost.

=== Resolved Issues ===

These are issues that have been discussed in the past, but have been fixed (or turned out not to be a problem) for the mass-produced devices.

* Excessive LED current - Some early units lacked a current-limiting resistor for the LEDs. This has been fixed for the production units.
* Battery life - At this time it appears that the FreeRunner battery life will be acceptable once suspend/resume support has been implemented in software.
* slow GPS TTFF - see [[GPS Problems]]
==== Empty NOR Flash ====

Issue: NOR flash (backup copy of u-boot) is not programmed. [http://docs.openmoko.org/trac/ticket/1568 #1568]

Affects: Unknown - maybe only 1 or 2 devices? Also need to confirm that the bug report was from a mass-production unit rather than an earlier prototype.

Status: Solved. The new devices are tested better if they have the NOR flashed programmed and aren't shipped if the test fail.

Workarounds: Use the NAND copy of u-boot and be careful not to brick the device unless a debug-board is available.


==== Debug board has wrong vendor/product ID ====

Issue: A debug board is not reporting the expected USB Vendor/Product ID.

Affects: Only [http://lists.openmoko.org/pipermail/device-owners/2008-July/001775.html one report] has been seen so far.

Status: Probably a single case scenario.

Workarounds: Edit configuration files (e.g. openocd.conf) to use the IDs that the board is reporting.

== List of "Current issues" Imported from the "Community update page" ==
(to be sorted)

The information below has been collected from various sources, feel free to add questions and comments here.

===GPS Performance of the FreeRunner===
The poor GPS performance on the FreeRunner has been traced to an
interaction between the microSD card and the GPS unit. A software
and a hardware fixes are available, see [[GPS Problems]].

===GTA02 battery status===
While writing a device driver for the new battery which provides an accurate counter of the charge state of the [[GTA02]], the driver developer discovered that the device driver does not get a reading of the charge state due to a very long response time with only one I/O signal when trying to read the charge state. To be able to read the battery status properly, it has been written that it will be necessary to re-design that part of the GTA02 for hardware version GTA02A5 to use two I/O signals to reduce the response time (one for transmitting commands, one for receiving data?). This was fixed two months ago (see [http://bugzilla.openmoko.org/cgi-bin/bugzilla/show_bug.cgi?id=957#c1 Bug 957]).

===Delivery of a GSM firmware update for the 3G SIM bug ([http://bugzilla.openmoko.org/cgi-bin/bugzilla/show_bug.cgi?id=666 #666])===

A bug in the GSM firmware prevents some USA 3G SIM cards from working properly. The bug has been fixed, but the GSM module is under extremely tight legal protection. We've been informed that everything legal has been agreed upon by all parties regarding the process that would allow you to upgrade your own GSM firmware. All that remains is to get everything signed. Apparently the process of getting things signed takes a few weeks! Meanwhile, we have resolved the difficulties I was having performing the upgrade, and I am now able to upgrade your handsets. Anyone interested in having me do this should contact me at michael@openmoko.org.

=== SMedia 3362 Documentation & OpenGL ES Drivers ===
There is an open source kdrive driver being written for the GTA02 which will use hardware to accelerate the XRender extension. While the chip is capable of 3D graphics, no OpenGL ES driver/library is avaliable and Openmoko developers will not be writing one in the near future (although they have not ruled it out in the long-term). 

Documentation for the SMedia 3362 has been promised ([http://lists.openmoko.org/pipermail/community/2007-September/010175.html see this post]). However, this refers to documentation Openmoko developers will be writing themselves, not the technical documentation SMedia have provided Openmoko with. The Openmoko developers had to sign an NDA with SMedia to obtain this documentation and are therefore unable to pass this information on to community developers. (See [http://lists.openmoko.org/pipermail/community/2007-November/011349.html this post] for details)

=== Power Management on the Neo1973/FreeRunner===
The current battery life of the Neo1973 and FreeRunner is not satisfactory. A lot of changes seem to be necessary to the kernel, drivers and related user-space applications. Hopefully the situation will improve over time.

[[Category:Neo FreeRunner Hardware]]
