{{Languages|Qtopia_on_FreeRunner}}

Questa pagina fornisce le istruzioni per installare Qtopia (la versione standard, non le varianti della [[ASU]] o della [[QtopiaOnX11]]) sul telefono GTA02 (Freerunner). È simile alla pagina [[Qtopia on Neo1973]].

{|align=right
|__TOC__
|}

== Stato corrente ==
L'8 Agosto 2008 Qtopia ha rilasciato [http://www.qtopia.net/modules/mydownloads/singlefile.php?lid=77 l'ultima immagine flash per il Neo Freerunner della FIC (gta02)] contentente losnapshot di Qtopia 4.3.2 (Versione: 4.3.2-080808) dell'8 Agosto 2008 (versione GPL). 

Questa immagine può realmente fare e ricevere chiamate e messaggi di testo. Riesce a leggere tutti i contatti dalla scheda SIM (cosa che l'aggiornamento della 2007.2 sembra non sia in grado di fare). Contiene applicazioni che sembrano più stabili di quelle che si trovano sull'immagine della 2007.2. Fornisce diversi metodi per l'inserimento dei caratteri che sembrano più maturi. Non ha, comunque, un browser Web, né alcuna applicazione per il GPS.

Puoi trovare tutte le immagini di Qtopia [http://www.qtopia.net/modules/mydownloads/viewcat.php?cid=6 qui].

== Opzione 1: Flashare Qtopia sul FreeRunner ==
Scarica l'immagine sopra indicata e segui queste istruzioni: [[Flashing the Neo FreeRunner]]

== Opzione 2: Dual-Boot tra Qtopia e la 2007.2 (Qtopia caricato dalla scheda MicroSD) ==
Requisiti d'istallazione: 

# Accesso tramite shell SSH all'immagine 2007.2 del Freerunner tramite interfaccia USB o WLAN.
# Una distribuzione anche desktop Linux (per scompattare l'immagine .jffs2, è funzionato anche usando una Ubuntu  virtualizzata con VMWare)

=== Preparare la scheda SD ===
Controlla la [[Booting from SD#Prepare the SD card| Preparing the SD Card]] sezione della pagina [[Booting from SD]] per le istruzioni sul partizionamento e la formattazione. Dopo che avrai completato i passi per la "Formattazione della scheda SD", ritorna qui ed esegui i seguenti comandi:

  mount /dev/mmcblk0p1 /media/card
  mkdir /media/card/boot

  mkdir /media/mmcblk0p2
  mount /dev/mmcblk0p2 /media/mmcblk0p2

Questi ti forniranno correttamente i requisiti per l'installazione del root filesystem e del kernel come di seguito indicato.

=== Istallare Qtopia ===
==== Estrarre l'immagine del root filesystem di Qtopia ====
Scarica l'immagine FLASH di Qtopia da [[Latest Images#Qtopia image from qtopia.net]] sul tuo computer Linux ed estrai il suo contenuto:

  tar xzf qtopia-4.3.2-gta02-flash-*.tgz

Dovresti trovarti con due files: 
#uImage-2.6.24+git18+9c058ff0d2641df3c36fc3300acb72078d2c41d4-r0-om-gta02.bin
#qtopia-4.3.2-gta02-rootfs-07172049.jffs2  
Ora estrai il root filesystem dal file jffs2 usando il comando che trovi [[Userspace root image#Mounting the JFFS2 image on a loop back device (Block Memory MTD Emulation) |qui]].

==== Creare un tarball compresso ====
Ora archivia e comprimi il root filesystem:

  # tar czf qtopia-4.3.2-gta02-rootfs-07172049.tar.gz <mountpoint> .

Dove ''<mountpoint>'' è la directory dove il filesystem jffs2 è stato montato.

==== Installare il Filesystem Root ====
Trasferisci il tarball compressed sulla seconda partizione della MicroSD che è montata sul FreeRunner:

  scp qtopia-4.3.2-gta02-rootfs-07172049.tar.gz root@192.168.0.202:/media/mmcblk0p2/

Loggati sul tuo FreeRunner e spacchetta il filesystem root:

  cd /media/mmcblk0p2
  tar xzf qtopia-4.3.2-gta02-rootfs-07172049.tar.gz
  rm qtopia-4.3.2-gta02-rootfs-07172049.tar.gz
  rm -f /media/mmcblk0p2/boot/*

'''''Nota:''''' l'ultimo passaggio rimuove l'immagine del kernel dalla seconda partizione. Per la stessa ragione, U-Boot non può trovare il file uImage.bin nella prima partizione se un'immagine del kernel esiste nella directory boot/ sulla seconda partizione.

==== Installare il Kernel ====
Dalla tua Linux box rinomina il file <tt>uImage-2.6.24+git18+9c058ff0d2641df3c36fc3300acb72078d2c41d4-r0-om-gta02.bin</tt> come <tt>uImage.bin</tt> e copialo nella directory di boot sulla prima partizione della MicroSD. Dipendendo dalla versione di U-Boot che hai installato, questo potrebbe non funzionare. Per supportare ogni possibile versione, mettine una copia anche nella directory <tt>/media/card</tt>. C'è abbastanza spazio nella prima partizione da permetterci di acere <tt>uImage.bin</tt> in entrambi i posti.

  mv uImage-2.6.24+git18+9c058ff0d2641df3c36fc3300acb72078d2c41d4-r0-om-gta02.bin uImage.bin
  scp uImage.bin root@192.168.0.202:/media/card/boot/
  scp uImage.bin root@192.168.0.202:/media/card/

=== Option 3: updating from source ===

{{note|This will upgrade only opt/Qtopia directory, you should use opkg update/upgrade for the rest}}
Original Qtopia images (the distribution released by Trolltech, not ASU) are rarely released as a rootfs image, but the source code is often updated. If you want to reflash your OM with the latest version of Qtopia you might build it from sources. This has been explained in [http://lists.openmoko.org/pipermail/community/2008-August/024785.html this thread] of the community mailing list. Summing up:

* get the latest toolchain released by trolltech: http://www.qtopia.net/modules/mydownloads/singlefile.php?lid=38 and unzip it on your PC (as root)
  cd /
  wget http://qtopia.net/downloads/neo/arm920t-eabi-ficgta01-toolchain.tgz
  tar xvzf arm920t-eabi-ficgta01-toolchain.tgz
* get the latest snapshot from trolltech: ftp://ftp.trolltech.com/qtopia/snapshots/
*  once dowloaded untar it
   tar xvzf qtopia-opensource-src-4.3.2-snapshot-20080806.tar.gz
* make a "build" dir 
   mkdir build
   cd build
* configure and make:
   ../qtopia-opensource-src-4.3.2-snapshot-20080806/configure -device ficgta01
   make 
This will take some time (couple hours). Note that the option "-device ficgta01" should work for both neo and freerunner. Then:

  make install

will make a root directory into build directory. That directory should be copied to /opt/Qtopia of your phone with scp. once done restart qpe or whole phone.

=== Lanciare Qtopia ===

Ora spegni il FreeRunner

  shutdown -h now

Log into U-Boot in the NOR Flash to boot from the MicroSD card: (instructions from [[Booting the Neo FreeRunner]])

* Press and hold Power button
* Then while still pressing the Power button, press and hold AUX button for 5 to 8 seconds. 
* A boot menu will appear. 
* Press the AUX button to select "[[Boot from sd card|Boot from MicroSD]]" and then press the Power button to execute.

Qtopia should now boot.

'''''Note:''''' you may get a kernel panic which says that "optional features not supported".  If this is the case, boot back into 2007.2 and run

  umount /dev/mmcblk0p2
  fsck.ext3.e2fsprogs /dev/mmcblk0p2

This will clean up the file system and clear recovery flags in ext3 that ext2 does not support, then try booting from the MicroSD again.

=== Internationalization ===

Qtopia comes with support for German and American English, and users from other countries will find that Qtopia's predictive keyboard makes writing in another language near impossible. One way to disable the predictive keyboard is to simply replace /opt/Qtopia/etc/dict/en_US/common.dawg and words.dawg with empty files (after backing them up). Qtopia normally looks in these files for words to suggest, and if it doesn't find any words that fit, it simply shows what you actually wrote.

Adding characters to the keyboard requires modifications to the source code, as described [http://www.qtopia.net/modules/newbb_plus/viewtopic.php?topic_id=512&forum=16 here].

[[Category:Distributions/it]]
[[Category:Qtopia/it]]
