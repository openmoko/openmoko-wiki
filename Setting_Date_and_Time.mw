Linux systems (such as the Freerunner) prefer that the system clock be set to universal time (UTC). Then, you will need to configure the timezone to display the time adjusted to local time.

See [[Timezone]] for instructions on changing the time zone.

For more information on Linux timekeeping, see [http://www.linuxsa.org.au/tips/time.html Linux, Clocks, and Time]. (But ignore mentions of ''/etc/sysconfig/clock''. That doesn't apply to the Openmoko environment.)

== Setting the date/time using "date" ==

To change the date on your Freerunner, issue one of the following commands:

 date -s ''MMDDhhmm''
 date -s ''MMDDhhmmYYYY''
 date -s ''MMDDhhmmYYYY.ss''

where ''MM'' is the month, 01-12; ''DD'' is the day, 01-31; ''hhmm'' is the time, 0000-2359; ''YYYY'' is the optional year, and ''.ss'' is the optional seconds.

== Setting date/time from your linux box ==

  ssh root@openmoko "date -s `date --utc +%m%d%H%M%Y.%S`"

== Setting the date/time automatically with NTP ==

If your Freerunner is connected to the internet, you can instead set the time automatically:

  opkg install ntpclient
  ntpclient -s -h pool.ntp.org

If your Freerunner is connecting to the internet through a USB host, make sure you allow UDP traffic to pass through on port 123 (NTP) on your host machine or you may get a "no route to host" error from ntpclient.

== Syncing the hardware clock ==

No matter which method you used above, sync the hardware clock with the system time to make your change persist over reboots:

 hwclock --systohc

Note: if you run the [[ASU]] image, hwclock will not work. Instead you can use: 

 echo "W\n" > /var/spool/at/trigger

Here is a link from the community mailing list for using hwclock with the [[ASU]] image
:http://lists.openmoko.org/pipermail/community/2008-July/023849.html

== Future Work ==

Presumably it might also be possible to use gpspipe (or something else) to set the date once you have a gps fix?  In addition, the phone stack should set the date, time, and timezone once connected to a network.

[GPS Sight|http://projects.openmoko.org/projects/gpv/] has a button to sync the hardware clock to the gps clock.

[[Category:Documentation|Date and Time]]
[[Category:Guides|Date and Time]]
[[Category:Preferences|Date and Time]]
