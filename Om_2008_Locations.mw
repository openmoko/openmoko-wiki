{{Languages|Om 2008.8}}
{{Om 2008.8}}
== Introduction ==
'''Locations''' (codenamed ''Splinter'') is a location sharing application based on GPS and SMS.  It
uses [http://www.openstreetmap.org OpenStreetMap] as its map source and allows users to manage and share saved locations.

{| class="wikitable" cellspacing="2" cellpadding="2" style="padding: 0%; margin:0em 0em 1em 0em; border:1px solid #c0c0c0; background:#eeeeee; width:100%;floating="center"; "
! style="background:#fcfcfc;border-left:1px solid #9999cc;border-right:1px ; border-top:2px solid 75d806; border:1px solid #222222; width:25% " |  
[[Image:Main.png|200px|center]]
! style="background:#fcfcfc;border-left:1px solid #9999cc;border-right:1px ; border-top:2px solid 75d806; border:1px solid #222222; width:25% " |
[[Image:Edit1.png|200px|center]]
! style="background:#fcfcfc;border-left:1px solid #9999cc;border-right:1px ; border-top:2px solid 75d806; border:1px solid #222222; width:25% " |
[[Image:Om locations4.png|200px|center]]
! style="background:#fcfcfc;border-left:1px solid #9999cc;border-right:1px ; border-top:2px solid 75d806; border:1px solid #222222; width:25% " |
[[Image:List.png|200px|center]]
|}

== Usage ==
In addition to downloading map images from the OSM server, '''Locations''' also supports local maps, which can be downloaded through the [[Installer]].  You can also create your own maps if your city is not available.  For more information, refer to the [http://wiki.openmoko.org/wiki/Om2008.8_Locations#Create_Offline_Maps Create Offline Maps] section below. 

=== Map === 
Use the '''MAP''' view to manage ''Tags'' with options to ''save'', ''edit'' or ''send''.  '''MAP''' view also allows users to browse maps with zoom in and zoom out for accurate locating.  If you get lost while browsing, simply tap the '''REFRESH''' button to return to your current position.  It's that easy.

=== List  ===
'''LIST''' view is a a centralized place to view all of your ''Tags''.  The '''LIST''' view is a combination of your own saved ''Tags'' and ''Tags'' received by friends.  
Selecting a ''Tag'' takes you to the exact position of the Tag in the '''MAP''' view.

=== Save & Send Tags ===
Once you are connected to GPS, saving and sending tags to friends is fun and simple.

* '''Save''' a Tag
# Press the '''touch me''' bubble that hovers above your current position.
# After the message box appears, tap directly into the text boxes under ''Edit Title'' and ''Edit Messages'' to add your ''Tag'' title or message.
# After entering your title or message, press '''SAVE''', at which point your newly created ''Tag'' will appear in bot '''MAP''' and '''LIST''' views.
# In the '''MAP''' view, tapping on the text of your ''Tag'' provides further options to ''edit'' or ''send'' your your ''Tag'' to a friend.

* '''Send''' a Tag
# In the '''MAP''' view, tap on the text of your ''Tag'', launching the '''edit * send''' bubble.
# Pressing on ''send'' will launch the ''Send a Tag'' message box
# Tap directly within the text boxes to edit your ''Tag'' before sending, or press ''Send'' and your ''Tag'' will be on its way.

== Architecture ==
'''Locations''' is a UI application, communicating with the diversity-daemon dbus interface to get all the data it needs.
What '''Locations''' does and shows is based on and through diversity-daemon, like tag management, sharing, map downloading and GPS status.

=== Design ===
'''Locations''' uses the [http://enlightenment.org/p.php?p=about&l=en EFL library] to implement UI.
Synced with diversity-daemon, '''Locations''' has objects, world and viewport concepts. There is a dbus wrapper layer for the diversity-daemon. 
In the UI, we have widgets like dialogs, menus, different objects like tags, map tilesets, etc.
 
In control part, we have a nav object for controlling the navigation, showing the tileset.

== Create Offline Maps ==
'''Locations''' comes with a tool called '''om-locations-map-pack'''. It can be used to pack tile images downloaded from OSM server into a map package:

<pre>
om-locations-map-pack /tmp/diversity-maps my_map.eet
</pre>

Place '''my_map.eet''' in either of the directories

<pre>
/usr/share/om-locations/maps
/media/card/om-maps
</pre>

and '''Locations''' will find it automatically.

Note that map packing eats lots of memory and fails easily on NEO.

=== Share Maps ===
To share maps for other Neo users to install, see directions on how to * [[CommunityRepository#How_to_release_packages | Add a package to Openmoko Repository]]

== Install Maps ==
To install maps from [http://wiki.openmoko.org/wiki/Om2008.8_Installer Installer].

{| class="wikitable" cellspacing="0" cellpadding="0" style="padding: 0%; margin:0em 0em 1em 0em; border:1px solid #c0c0c0; background:#eeeeee; floating="center";width:100%; "
! style="background:#fcfcfc;border-left:1px solid #9999cc;border-right:1px ; border-top:2px solid 75d806; border:0px solid #222222; width:25% " |  
[[Image:Install.png|200px|thumb|catogory]]
! style="background:#fcfcfc;border-left:1px solid #9999cc;border-right:1px ; border-top:2px solid 75d806; border:0px solid #222222; width:25% " |
[[Image:Install_maps2.png|200px|thumb|choose map]]
! style="background:#fcfcfc;border-left:1px solid #9999cc;border-right:1px ; border-top:2px solid 75d806; border:0px solid #222222; width:25% " |
[[Image:Install_maps3.png|200px|thumb|install map]]
|}

== Reference ==
[1] git repository of Locations - http://git.openmoko.org/?p=om-locations.git;a=summary

[2] Diversity project - http://diversity.projects.openmoko.org/

[3] Assassin project - http://code.google.com/p/om-assassin/

[4] OpenStreetMap - http://www.openstreetmap.org/


[[Category:Applications]]
[[Category:Om 2008.8]]
