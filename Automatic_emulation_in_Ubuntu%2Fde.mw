== Installation ==

Du hast sicher gehört, dass es ein geniales Tool gibt um eine Openmoko-Emulation auf einem Ubuntu zu installieren; das MokoMakefile.
Dieses File ist eine Sammlung von wrapper mit diversen Instruktionen, so dass es relativ einfach ist, eine funktonierende Entwicklungsumgebung zu erhalten.
Wenn du das ganze MokoMakefile erstellen willst, brauchst du knapp 12GB Speicherplatz, eine Swap und Arbeitsspeicher mit je 1GB und fast 5 Stunden Zeit. In diesem Tutorial erstellen wir das MokoMakefile nur für Qemu und dazu brauchst du ca. 890MB und 15min Zeit.

Um die Emulation so zu erstellen, musst du dein Ubuntu ein bisschen anpassen (keine Angst, das wird dein System nicht beschädigen, andere Programme und alles funktioniert wie zuvor).

* Öffne dein Terminal (Applications->Accessories->Terminal).
* Gib folgenden Befehl ein und wähle NEIN wenn du gefragt wirst, ob dash als /bin/bash installiert werden soll

   sudo dpkg-reconfigure dash

* Installation der benötigten Programme unter Hardy Heron 8.04 (Das Passwort wird verlangt): 

     sudo apt-get install monotone git-core git-svn git-email \
 git-cvs git-arch gitk python-dev ccache m4 sed bison make cvs gawk \
 libc6-dev g++ subversion sharutils docbook openjade quilt libmpfr-dev \
 libpcre3-dev texinfo texi2html libboost-date-time-dev libboost-filesystem-dev \
 libboost-regex-dev libboost-test-dev libboost-dev zlib1g-dev build-essential \
 dh-make debhelper devscripts gcc-3.4 lynx netpbm libsdl1.2-dev dosfstools \
 help2man python-psyco lynx

* Für ältere Versionen: (git-svn git-email git-cvs git-arch gitk ersetzt durch cogito)
    sudo apt-get install monotone git-core cogito python-dev ccache m4 sed bison \
 make cvs gawk libc6-dev g++ subversion sharutils docbook openjade quilt \
 libmpfr-dev libpcre3-dev texinfo texi2html libboost-date-time-dev \
 libboost-filesystem-dev libboost-regex-dev libboost-test-dev libboost-dev \
 zlib1g-dev build-essential dh-make debhelper devscripts gcc-3.4 netpbm \
 libsdl1.2-dev dosfstools help2man python-psyco lynx

Voila dein System ist ready zum Installieren von openmoko.

Jetzt werden wir Openmoko in ein Verzeichnis mit Hilfe des MokoMakefile installieren und kompilieren.

* Erstelle ein Verzeichnis und wechsle hinein: 

   mkdir openmoko
   cd openmoko
* MokoMakefile herunterladen: 

   wget http://www.rwhitby.net/files/openmoko/Makefile

* Erstelle das MokoMakefile und sag ihm, dass es für qemu installiert wird:

   make qemu

Dieser Befehl lädt die benötigten Files direkt von den neuesten Quellen und erstellt das MokoMakefile. Danach wird gleich der Emulator zum ersten Mal gestartet. Voila du hast nun erfolgreich openmoko auf deinem System installiert.

== Start Openmoko ==

* Öffne dein Terminal (Anwendungen->Zubehör->Terminal).
* Wechsle ins Verzeichnis: 

   cd openmoko

* Start mit dem MokoMakefile 

   make run-qemu

Jetzt lädt der Bootloader. Hier kannst du zwischen verschiedenen Optionen auswählen. Mit ENTER(=aux) kannst du auswählen und mit SPACE(=power) ausführen.

==Installing ipk packages==
First you need a xxx.ipk package, see [[toolchain]] on how to compile an application for the ARM CPU and create the package.

Note that if at this point you have the Openmoko Qemu running, it is probably wise to terminate it first.
Then you can install the xxx.ipk package for access by the Qemu emulator with:

 cd openmoko
 mkdir -p build/tmp/deploy/glibc/ipk/a
 cp xxx.ipk build/tmp/deploy/glibc/ipk/a/xxx_a.ipk
 make qemu-copy-package-xxx

''Note: for some reason qemu-copy-package-xxx looks for above source file.
Maybe this part can be improved, or a different command can overcome the problem of creating this directory.''

When above make command was succesful the next time you start Openmoko Qemu,
you still need to make the installed application available in the application list.
For this you can select from within Openmoko the terminal application
(Select icon that looks like "+" for the list of available applicaitons, select "Applications" and select the "Terminal").
In this terminal double-click, so you can type in the commands:
 opkg install /media/mmcblk0/xxx_a.ipk
 exit
After the "exit" command you should return to the Task list, in which the newly
added application should be listed under a name which was choosen when building the ipk package.

== Update Openmoko ==

* Öffne dein Terminal (Applications->Accessories->Terminal).
* Wechsel ins Verzeichnis: 

   cd openmoko

* Update mit dem MokoMakefile 

   make qemu

== Extras ==

== Probleme ==
Wenn du irgendwelche Probleme hast, kannst du hier Fragen stellen.

[[Category:Emulation]]
